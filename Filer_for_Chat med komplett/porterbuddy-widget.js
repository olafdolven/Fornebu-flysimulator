!function(){"use strict";var e=setTimeout;function t(e){return Boolean(e&&void 0!==e.length)}function n(){}function r(e){if(!(this instanceof r))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],u(e,this)}function i(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,r._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void a(t.promise,e)}o(t.promise,r)}else(1===e._state?o:a)(t.promise,e._value)}))):e._deferreds.push(t)}function o(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof r)return e._state=3,e._value=t,void s(e);if("function"==typeof n)return void u((i=n,o=t,function(){i.apply(o,arguments)}),e)}e._state=1,e._value=t,s(e)}catch(t){a(e,t)}var i,o}function a(e,t){e._state=2,e._value=t,s(e)}function s(e){2===e._state&&0===e._deferreds.length&&r._immediateFn((function(){e._handled||r._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)i(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function u(e,t){var n=!1;try{e((function(e){n||(n=!0,o(t,e))}),(function(e){n||(n=!0,a(t,e))}))}catch(e){if(n)return;n=!0,a(t,e)}}r.prototype.catch=function(e){return this.then(null,e)},r.prototype.then=function(e,t){var r=new this.constructor(n);return i(this,new l(e,t,r)),r},r.prototype.finally=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))},r.all=function(e){return new r((function(n,r){if(!t(e))return r(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(e);if(0===i.length)return n([]);var o=i.length;function a(e,t){try{if(t&&("object"==typeof t||"function"==typeof t)){var s=t.then;if("function"==typeof s)return void s.call(t,(function(t){a(e,t)}),r)}i[e]=t,0==--o&&n(i)}catch(e){r(e)}}for(var s=0;s<i.length;s++)a(s,i[s])}))},r.resolve=function(e){return e&&"object"==typeof e&&e.constructor===r?e:new r((function(t){t(e)}))},r.reject=function(e){return new r((function(t,n){n(e)}))},r.race=function(e){return new r((function(n,i){if(!t(e))return i(new TypeError("Promise.race accepts an array"));for(var o=0,a=e.length;o<a;o++)r.resolve(e[o]).then(n,i)}))},r._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(t){e(t,0)},r._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var c,d,f,h,p,v,m,g,y={},_=[],b=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function w(e,t){for(var n in t)e[n]=t[n];return e}function S(e){var t=e.parentNode;t&&t.removeChild(e)}function x(e,t,n){var r,i=arguments,o={};for(r in t)"key"!==r&&"ref"!==r&&(o[r]=t[r]);if(arguments.length>3)for(n=[n],r=3;r<arguments.length;r++)n.push(i[r]);if(null!=n&&(o.children=n),"function"==typeof e&&null!=e.defaultProps)for(r in e.defaultProps)void 0===o[r]&&(o[r]=e.defaultProps[r]);return T(e,o,t&&t.key,t&&t.ref)}function T(e,t,n,r){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0};return c.vnode&&c.vnode(i),i}function k(){return{}}function N(e){return e.children}function E(e,t){this.props=e,this.context=t}function D(e,t){if(null==t)return e.__?D(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?D(e):null}function C(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return C(e)}}function O(e){(!e.__d&&(e.__d=!0)&&f.push(e)&&!h++||v!==c.debounceRendering)&&((v=c.debounceRendering)||p)(A)}function A(){for(var e;h=f.length;)e=f.sort((function(e,t){return e.__v.__b-t.__v.__b})),f=[],e.some((function(e){var t,n,r,i,o,a;e.__d&&(o=(i=(t=e).__v).__e,(a=t.__P)&&(n=[],r=W(a,i,w({},i),t.__n,void 0!==a.ownerSVGElement,null,n,null==o?D(i):o),H(n,i),r!=o&&C(i)))}))}function M(e,t,n,r,i,o,a,s,l){var u,c,d,f,h,p,v,m=n&&n.__k||_,g=m.length;if(s==y&&(s=null!=o?o[0]:g?D(n,0):null),u=0,t.__k=P(t.__k,(function(n){if(null!=n){if(n.__=t,n.__b=t.__b+1,null===(d=m[u])||d&&n.key==d.key&&n.type===d.type)m[u]=void 0;else for(c=0;c<g;c++){if((d=m[c])&&n.key==d.key&&n.type===d.type){m[c]=void 0;break}d=null}if(f=W(e,n,d=d||y,r,i,o,a,s,l),(c=n.ref)&&d.ref!=c&&(v||(v=[]),d.ref&&v.push(d.ref,null,n),v.push(c,n.__c||f,n)),null!=f){var _;if(null==p&&(p=f),void 0!==n.__d)_=n.__d,n.__d=void 0;else if(o==d||f!=s||null==f.parentNode){e:if(null==s||s.parentNode!==e)e.appendChild(f),_=null;else{for(h=s,c=0;(h=h.nextSibling)&&c<g;c+=2)if(h==f)break e;e.insertBefore(f,s),_=s}"option"==t.type&&(e.value="")}s=void 0!==_?_:f.nextSibling,"function"==typeof t.type&&(t.__d=s)}else s&&d.__e==s&&s.parentNode!=e&&(s=D(d))}return u++,n})),t.__e=p,null!=o&&"function"!=typeof t.type)for(u=o.length;u--;)null!=o[u]&&S(o[u]);for(u=g;u--;)null!=m[u]&&U(m[u],m[u]);if(v)for(u=0;u<v.length;u++)j(v[u],v[++u],v[++u])}function P(e,t,n){if(null==n&&(n=[]),null==e||"boolean"==typeof e)t&&n.push(t(null));else if(Array.isArray(e))for(var r=0;r<e.length;r++)P(e[r],t,n);else n.push(t?t("string"==typeof e||"number"==typeof e?T(null,e,null,null):null!=e.__e||null!=e.__c?T(e.type,e.props,e.key,null):e):e);return n}function R(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]="number"==typeof n&&!1===b.test(t)?n+"px":null==n?"":n}function L(e,t,n,r,i){var o,a,s,l,u;if(i?"className"===t&&(t="class"):"class"===t&&(t="className"),"key"===t||"children"===t);else if("style"===t)if(o=e.style,"string"==typeof n)o.cssText=n;else{if("string"==typeof r&&(o.cssText="",r=null),r)for(a in r)n&&a in n||R(o,a,"");if(n)for(s in n)r&&n[s]===r[s]||R(o,s,n[s])}else"o"===t[0]&&"n"===t[1]?(l=t!==(t=t.replace(/Capture$/,"")),u=t.toLowerCase(),t=(u in e?u:t).slice(2),n?(r||e.addEventListener(t,I,l),(e.l||(e.l={}))[t]=n):e.removeEventListener(t,I,l)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&!i&&t in e?e[t]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==n||!1===n?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),n):null==n||!1===n&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,n))}function I(e){this.l[e.type](c.event?c.event(e):e)}function W(e,t,n,r,i,o,a,s,l){var u,d,f,h,p,v,m,g,y,_,b=t.type;if(void 0!==t.constructor)return null;(u=c.__b)&&u(t);try{e:if("function"==typeof b){if(g=t.props,y=(u=b.contextType)&&r[u.__c],_=u?y?y.props.value:u.__:r,n.__c?m=(d=t.__c=n.__c).__=d.__E:("prototype"in b&&b.prototype.render?t.__c=d=new b(g,_):(t.__c=d=new E(g,_),d.constructor=b,d.render=$),y&&y.sub(d),d.props=g,d.state||(d.state={}),d.context=_,d.__n=r,f=d.__d=!0,d.__h=[]),null==d.__s&&(d.__s=d.state),null!=b.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=w({},d.__s)),w(d.__s,b.getDerivedStateFromProps(g,d.__s))),h=d.props,p=d.state,f)null==b.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==b.getDerivedStateFromProps&&g!==h&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(g,_),!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(g,d.__s,_)){for(d.props=g,d.state=d.__s,d.__d=!1,d.__v=t,t.__e=n.__e,t.__k=n.__k,d.__h.length&&a.push(d),u=0;u<t.__k.length;u++)t.__k[u]&&(t.__k[u].__=t);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(g,d.__s,_),null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(h,p,v)}))}d.context=_,d.props=g,d.state=d.__s,(u=c.__r)&&u(t),d.__d=!1,d.__v=t,d.__P=e,u=d.render(d.props,d.state,d.context),t.__k=null!=u&&u.type==N&&null==u.key?u.props.children:Array.isArray(u)?u:[u],null!=d.getChildContext&&(r=w(w({},r),d.getChildContext())),f||null==d.getSnapshotBeforeUpdate||(v=d.getSnapshotBeforeUpdate(h,p)),M(e,t,n,r,i,o,a,s,l),d.base=t.__e,d.__h.length&&a.push(d),m&&(d.__E=d.__=null),d.__e=!1}else t.__e=F(n.__e,t,n,r,i,o,a,l);(u=c.diffed)&&u(t)}catch(e){c.__e(e,t,n)}return t.__e}function H(e,t){c.__c&&c.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){c.__e(e,t.__v)}}))}function F(e,t,n,r,i,o,a,s){var l,u,c,d,f,h=n.props,p=t.props;if(i="svg"===t.type||i,null!=o)for(l=0;l<o.length;l++)if(null!=(u=o[l])&&((null===t.type?3===u.nodeType:u.localName===t.type)||e==u)){e=u,o[l]=null;break}if(null==e){if(null===t.type)return document.createTextNode(p);e=i?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,p.is&&{is:p.is}),o=null}if(null===t.type)h!==p&&e.data!=p&&(e.data=p);else if(t!==n){if(null!=o&&(o=_.slice.call(e.childNodes)),c=(h=n.props||y).dangerouslySetInnerHTML,d=p.dangerouslySetInnerHTML,!s){if(h===y)for(h={},f=0;f<e.attributes.length;f++)h[e.attributes[f].name]=e.attributes[f].value;(d||c)&&(d&&c&&d.__html==c.__html||(e.innerHTML=d&&d.__html||""))}(function(e,t,n,r,i){var o;for(o in n)o in t||L(e,o,null,n[o],r);for(o in t)i&&"function"!=typeof t[o]||"value"===o||"checked"===o||n[o]===t[o]||L(e,o,t[o],n[o],r)})(e,p,h,i,s),t.__k=t.props.children,d||M(e,t,n,r,"foreignObject"!==t.type&&i,o,a,y,s),s||("value"in p&&void 0!==p.value&&p.value!==e.value&&(e.value=null==p.value?"":p.value),"checked"in p&&void 0!==p.checked&&p.checked!==e.checked&&(e.checked=p.checked))}return e}function j(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){c.__e(e,n)}}function U(e,t,n){var r,i,o;if(c.unmount&&c.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||j(r,null,t)),n||"function"==typeof e.type||(n=null!=(i=e.__e)),e.__e=e.__d=void 0,null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){c.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&U(r[o],t,n);null!=i&&S(i)}function $(e,t,n){return this.constructor(e,n)}function z(e,t,n){var r,i,o;c.__&&c.__(e,t),i=(r=n===m)?null:n&&n.__k||t.__k,e=x(N,null,[e]),o=[],W(t,(r?t:n||t).__k=e,i||y,y,void 0!==t.ownerSVGElement,n&&!r?[n]:i?null:_.slice.call(t.childNodes),o,n||y,r),H(o,e)}c={__e:function(e,t){for(var n,r;t=t.__;)if((n=t.__c)&&!n.__)try{if(n.constructor&&null!=n.constructor.getDerivedStateFromError&&(r=!0,n.setState(n.constructor.getDerivedStateFromError(e))),null!=n.componentDidCatch&&(r=!0,n.componentDidCatch(e)),r)return O(n.__E=n)}catch(t){e=t}throw e}},d=function(e){return null!=e&&void 0===e.constructor},E.prototype.setState=function(e,t){var n;n=this.__s!==this.state?this.__s:this.__s=w({},this.state),"function"==typeof e&&(e=e(n,this.props)),e&&w(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),O(this))},E.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),O(this))},E.prototype.render=N,f=[],h=0,p=r.prototype.then.bind(r.resolve()),m=y,g=0;var V=Object.freeze({__proto__:null,render:z,hydrate:function(e,t){z(e,t,m)},createElement:x,h:x,Fragment:N,createRef:k,get isValidElement(){return d},Component:E,cloneElement:function(e,t){return t=w(w({},e.props),t),arguments.length>2&&(t.children=_.slice.call(arguments,2)),T(e.type,t,t.key||e.key,t.ref||e.ref)},createContext:function(e){var t={},n={__c:"__cC"+g++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var r,i=this;return this.getChildContext||(r=[],this.getChildContext=function(){return t[n.__c]=i,t},this.shouldComponentUpdate=function(t){e.value!==t.value&&r.some((function(e){e.context=t.value,O(e)}))},this.sub=function(e){r.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){r.splice(r.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Consumer.contextType=n,n},toChildArray:P,_unmount:U,get options(){return c}}),B=Object.getOwnPropertySymbols,q=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable;
/*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  */function Q(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var X=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,r,i=arguments,o=Q(e),a=1;a<arguments.length;a++){for(var s in n=Object(i[a]))q.call(n,s)&&(o[s]=n[s]);if(B){r=B(n);for(var l=0;l<r.length;l++)Y.call(n,r[l])&&(o[r[l]]=n[r[l]])}}return o},G=function(e){var t={},n={},r=function(e,i){if("@dispatch"!==e&&r("@dispatch",[e,i,t[e]]),t[e]){var o,a={};t[e].forEach((function(e){var t=e(n,i);t&&"function"!=typeof t.then&&(o=n=X({},n,t),X(a,t))})),o&&r("@changed",a)}},i={dispatch:r,get:function(){return n},on:function(e,n){return(t[e]||(t[e]=[])).push(n),function(){t[e]=t[e].filter((function(e){return e!==n}))}}};return e.forEach((function(e){e&&e(i)})),r("@init"),i},Z=V.createContext();"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function K(e,t){return e(t={exports:{}},t.exports),t.exports}var J=K((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.storageFactory=function(e){var t={};function n(){try{var t="__some_random_key_you_are_not_going_to_use__";return e().setItem(t,t),e().removeItem(t),!0}catch(e){return!1}}return{getItem:function(r){return n()?e().getItem(r):t.hasOwnProperty(r)?t[r]:null},setItem:function(r,i){n()?e().setItem(r,i):t[r]=String(i)},removeItem:function(r){n()?e().removeItem(r):delete t[r]},clear:function(){n()?e().clear():t={}},key:function(r){return n()?e().key(r):Object.keys(t)[r]||null},get length(){return n()?e().length:Object.keys(t).length}}}}));!function(e){e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")&&e.default}(J);var ee,te=J.storageFactory;try{ee=te((function(){return localStorage}))}catch(e){ee={length:0,clear:function(){},getItem:function(e){return"debug"===e?"pb:*":null},key:function(e){return null},removeItem:function(e){},setItem:function(e,t){}}}var ne=ee,re=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.webkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}(),ie=[],oe={};function ae(e){var t,n=ne.getItem("debug");if(oe[e])return oe[e];if(n&&(e===n||/\*$/.test(n)&&e.substr(0,n.length-1)===n.substr(0,n.length-1))){if(re){var r=function(e){var t=ie.indexOf(e);-1===t&&(t=ie.push(e));var n=(30*t+(t%2?128:0))%255,r=Math.floor(30*t/255)%2?50:100;return[n,r,40]}(e),i=se(r),o=se([(t=r)[0],t[1],94]);oe[e]=Function.prototype.bind.call(console.log,console,"%c"+e,"color: "+i+"; background-color: "+o+"; padding-left: 5px; padding-right: 5px;")}else oe[e]=Function.prototype.bind.call(console.log,console,e);return oe[e]}return oe[e]=function(){return null},oe[e]}function se(e){return"hsl("+e[0]+","+e[1]+"%,"+e[2]+"%)"}var le,ue,ce,de=[],fe=c.__r,he=c.diffed,pe=c.__c,ve=c.unmount;function me(e){c.__h&&c.__h(ue);var t=ue.__H||(ue.__H={__:[],__h:[]});return e>=t.__.length&&t.__.push({}),t.__[e]}function ge(e){return ye(Ee,e)}function ye(e,t,n){var r=me(le++);return r.__c||(r.__c=ue,r.__=[n?n(t):Ee(void 0,t),function(t){var n=e(r.__[0],t);r.__[0]!==n&&(r.__[0]=n,r.__c.setState({}))}]),r.__}function _e(e,t){var n=me(le++);Ne(n.__H,t)&&(n.__=e,n.__H=t,ue.__H.__h.push(n))}function be(e,t){var n=me(le++);Ne(n.__H,t)&&(n.__=e,n.__H=t,ue.__h.push(n))}function we(e){return Se((function(){return{current:e}}),[])}function Se(e,t){var n=me(le++);return Ne(n.__H,t)?(n.__H=t,n.__h=e,n.__=e()):n.__}function xe(){de.some((function(e){if(e.__P)try{e.__H.__h.forEach(Te),e.__H.__h.forEach(ke),e.__H.__h=[]}catch(t){return c.__e(t,e.__v),!0}})),de=[]}function Te(e){e.t&&e.t()}function ke(e){var t=e.__();"function"==typeof t&&(e.t=t)}function Ne(e,t){return!e||t.some((function(t,n){return t!==e[n]}))}function Ee(e,t){return"function"==typeof t?t(e):t}c.__r=function(e){fe&&fe(e),le=0,(ue=e.__c).__H&&(ue.__H.__h.forEach(Te),ue.__H.__h.forEach(ke),ue.__H.__h=[])},c.diffed=function(e){he&&he(e);var t=e.__c;if(t){var n=t.__H;n&&n.__h.length&&(1!==de.push(t)&&ce===c.requestAnimationFrame||((ce=c.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);"undefined"!=typeof window&&(t=requestAnimationFrame(n))})(xe))}},c.__c=function(e,t){t.some((function(e){try{e.__h.forEach(Te),e.__h=e.__h.filter((function(e){return!e.__||ke(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],c.__e(n,e.__v)}})),pe&&pe(e,t)},c.unmount=function(e){ve&&ve(e);var t=e.__c;if(t){var n=t.__H;if(n)try{n.__.forEach((function(e){return e.t&&e.t()}))}catch(e){c.__e(e,t.__v)}}};var De=Object.freeze({__proto__:null,useState:ge,useReducer:ye,useEffect:_e,useLayoutEffect:be,useRef:we,useImperativeHandle:function(e,t,n){be((function(){"function"==typeof e?e(t()):e&&(e.current=t())}),null==n?n:n.concat(e))},useMemo:Se,useCallback:function(e,t){return Se((function(){return e}),t)},useContext:function(e){var t=ue.context[e.__c];if(!t)return e.__;var n=me(le++);return null==n.__&&(n.__=!0,t.sub(ue)),t.props.value},useDebugValue:function(e,t){c.useDebugValue&&c.useDebugValue(t?t(e):e)},useErrorBoundary:function(e){var t=me(le++),n=ge();return t.__=e,ue.componentDidCatch||(ue.componentDidCatch=function(e){t.__&&t.__(e),n[1](e)}),[n[0],function(){n[1](void 0)}]}}),Ce="undefined"!=typeof window?De.useLayoutEffect:De.useEffect,Oe=function(){var e=[].slice.call(arguments),t=De.useContext(Z),n=De.useState({});return Ce((function(){return t.on("@changed",(function(t,r){e.some((function(e){return e in r}))&&n[1]({})}))}),[]),De.useMemo((function(){var n=t.get(),r={};return e.forEach((function(e){r[e]=n[e]})),r.dispatch=t.dispatch,r}),[n[0]])},Ae=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===Me}(e)}(e)};var Me="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function Pe(e,t){return!1!==t.clone&&t.isMergeableObject(e)?He((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function Re(e,t,n){return e.concat(t).map((function(e){return Pe(e,n)}))}function Le(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function Ie(e,t){try{return t in e}catch(e){return!1}}function We(e,t,n){var r={};return n.isMergeableObject(e)&&Le(e).forEach((function(t){r[t]=Pe(e[t],n)})),Le(t).forEach((function(i){(function(e,t){return Ie(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,i)||(Ie(e,i)&&n.isMergeableObject(t[i])?r[i]=function(e,t){if(!t.customMerge)return He;var n=t.customMerge(e);return"function"==typeof n?n:He}(i,n)(e[i],t[i],n):r[i]=Pe(t[i],n))})),r}function He(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||Re,n.isMergeableObject=n.isMergeableObject||Ae,n.cloneUnlessOtherwiseSpecified=Pe;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):We(e,t,n):Pe(t,n)}He.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return He(e,n,t)}),{})};var Fe=He,je={env:"production",baseUrls:{development:"https://api.porterbuddy-test.com",test:"https://api.porterbuddy-test.com",stage:"https://api.porterbuddy-staging.com",production:"https://api.porterbuddy.com"},widgetHost:"https://widget.porterbuddy.com"};function Ue(e,t,n){void 0===n&&(n=[]);var r=Object.keys(e);if(t&&"object"==typeof t){var i={};return Object.keys(t).forEach((function(o){r.indexOf(o)>=0?/^on[A-Z]\w+$/.test(o)?"function"==typeof t[o]&&(i[o]=t[o]):typeof t[o]!=typeof e[o]&&void 0!==e[o]?console.warn("Invalid option type "+o+": "+typeof t[o]+" should be "+typeof e[o]):i[o]=t[o]:console.warn("Unknown option:",o),n.indexOf(o)>=0&&console.log('Configuration option "'+o+'" is deprecated, please check documentation for alternatives!')})),i}}var $e=function(e,t){return t||e};function ze(e,t){var n={};return Object.keys(t).forEach((function(e){var r=t[e];null!=r&&(n[e]=r)})),Fe(e,n)}var Ve={token:"",view:"availability",apiMode:function(){switch(je.env){case"development":return"development";case"stage":return"stage";case"production":return"production";default:return"test"}}(),resetContext:!1,apiBaseUrl:"",allowStorage:!0,allowGeoLocation:!1,postalCode:"",now:"",cssClassPrefix:"pb",alternateAvailabilityView:!1,availabilityResponse:void 0,deliveryWindows:[],pickupWindows:[],hideIfUnavailable:!0,updateDeliveryWindowsInterval:3600,availabilityCacheTTL:300,discount:0,additionalDiscounts:{},showLeaveAtDoorstep:!0,leaveAtDoorstepChecked:!1,initialComment:"",showLogo:!1,language:"NO",text:{asap:"Express levering",availabilityEnterPostalCode:"Kan jeg få varen levert hjem **idag**?",availabilityEnterPostalCodePlaceholder:"Postnummer",availabilityStart:"Kan jeg få denne varen levert **hjem i dag**?",availabilityClickToSee:"Klikk for å sjekke",availabilityDeliveryNoDate:"Beklager, levering samme dag er ikke mulig",availabilityDeliveryOutOfStock:"Beklager, dette produktet er utsolgt",availabilityDetectingLocation:"Finner din posisjon...",availabilityFetching:"Henter leveransealternativer...",availabilityPostcodeSuccess:"**Hjem {{delivery}} fra {{price_lowest_price}}**",availabilitySuccessCountdown:"**Bestill innen {{remaining}}**",availabilityPostcodeError:"Beklager, Porterbuddy leverer ikke til ditt postnummer ennå!<br/>Vi utvider stadig, se <a href='https://www.porterbuddy.com'>www.porterbuddy.com</a>",availabilityServiceNotAvailable:"Beklager, tjenesten er ikke tilgjenglig for øyeblikket",alwaysFirst:"Alltid først!",availabilityPostCodeText:"Hjemlevert allerede i kveld?",tryAgainButton:"Prøv igjen",searchLocationButton:"Søk",changeLocationButton:"Endre",comment:"Hjelpende forklaring til budet…",deliveryInfo:"Vi legger pakken på døren. Du kan likevel velge personlig levering om ønskelig.",helpInfo:"Du får mulighet til å velge kontaktløs levering når du mottar lenke til sporing.",leaveDoorstep:"Budet kan legge pakken utenfor døren på leveranseadressen",locationLink:"Levering til deg ({{location}})",subTitle:"Levering hjem når du ønsker det",title:"Ekspresslevering med Porterbuddy",yourPostalCode:"Ditt postnummer: **{{postcode}}**",selectedPrice:"{{selected_price}}",sundayDelivery:"Nå også på SØNDAGER!",availabilityPostboxCode:"Beklager, Porterbuddy leverer ikke til postbokser!",availabilityUnknownPostcode:"Beklager, dette er ikke et gyldig postnummer!",availabilityTryAnother:"Prøv et annet postnummer.",deliveryInfoButtonText:"Kontaktløs levering",today:"i dag",tomorrow:"i morgen",conjunction:"om",days:"dager",separator:"og",close:"lukk",clockSeparator:"kl",hour:"time",hourPlural:"timer",hourShort:"t",minute:"minutt",minutePlural:"minutter",minuteShort:"min",second:"sekund",secondPlural:"sekunder",secondShort:"s",from:"fra",checkoutTitle:"Når du vil ha pakken levert?",checkoutTitleSelectedPrefix:"Sees",between:"mellom",matrixCountdownPrefix:"frist",free:"gratis",prevDays:"Forrige dager",nextDays:"Neste dager"},initialSelectedWindow:void 0,wrapInForm:!0,onComment:void 0,onLeaveAtDoorstep:void 0,onSelectDeliveryWindow:void 0,onUpdateDeliveryWindows:void 0,onSetCallbacks:void 0},Be=["deliveryWindows"],qe=Fe({},Ve),Ye=function(){return qe};function Qe(e){return Ue(Ve,e,Be)}function Xe(e){return qe=function(e,t,n){var r=ae("pb:options:set"),i=Ue(e,n),o=Fe({},t);return r(o),i?(r("Object is valid"),!0===n.resetContext&&(o=Fe({},e)),o=Fe(o,n,{arrayMerge:$e,customMerge:function(e){if("text"===e)return ze}})):(r("Object is invalid"),o=Fe({},o)),o}(Ve,qe,e)}function Ge(e,t){return void 0===t&&(t=""),Object.keys(e).map((function(n){var r=e[n];return"function"==typeof r&&r()||"function"!=typeof r&&r?""+t+n+" ":""})).join("")}function Ze(e,t,n){void 0===n&&(n=Ye().cssClassPrefix);var r=e?n+"-"+e:n,i=t?Ge(t,r+"--"):"";return{get className(){return(r+" "+i).trim()},get componentClassName(){return r},element:function(e,t){var n=(r+"__"+e).trim();return t?(n+" "+Ge(t,n+"--")).trim():n}}}var Ke,Je=function(){return x("div",{className:Ze("loading-spinner").className})},et=K((function(e,t){e.exports=function(){var e="millisecond",t="second",n="minute",r="hour",i="day",o="week",a="month",s="quarter",l="year",u=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,c=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,d=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},f={s:d,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+d(r,2,"0")+":"+d(i,2,"0")},m:function(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,a),i=t-r<0,o=e.clone().add(n+(i?-1:1),a);return Number(-(n+(t-r)/(i?r-o:o-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(u){return{M:a,y:l,w:o,d:i,D:"date",h:r,m:n,s:t,ms:e,Q:s}[u]||String(u||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},p="en",v={};v[p]=h;var m=function(e){return e instanceof b},g=function(e,t,n){var r;if(!e)return p;if("string"==typeof e)v[e]&&(r=e),t&&(v[e]=t,r=e);else{var i=e.name;v[i]=e,r=i}return!n&&r&&(p=r),r||!n&&p},y=function(e,t,n){if(m(e))return e.clone();var r=t?"string"==typeof t?{format:t,pl:n}:t:{};return r.date=e,new b(r)},_=f;_.l=g,_.i=m,_.w=function(e,t){return y(e,{locale:t.$L,utc:t.$u,$offset:t.$offset})};var b=function(){function d(e){this.$L=this.$L||g(e.locale,null,!0),this.parse(e)}var f=d.prototype;return f.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(_.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(u);if(r)return n?new Date(Date.UTC(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)):new Date(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)}return new Date(t)}(e),this.init()},f.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},f.$utils=function(){return _},f.isValid=function(){return!("Invalid Date"===this.$d.toString())},f.isSame=function(e,t){var n=y(e);return this.startOf(t)<=n&&n<=this.endOf(t)},f.isAfter=function(e,t){return y(e)<this.startOf(t)},f.isBefore=function(e,t){return this.endOf(t)<y(e)},f.$g=function(e,t,n){return _.u(e)?this[t]:this.set(n,e)},f.year=function(e){return this.$g(e,"$y",l)},f.month=function(e){return this.$g(e,"$M",a)},f.day=function(e){return this.$g(e,"$W",i)},f.date=function(e){return this.$g(e,"$D","date")},f.hour=function(e){return this.$g(e,"$H",r)},f.minute=function(e){return this.$g(e,"$m",n)},f.second=function(e){return this.$g(e,"$s",t)},f.millisecond=function(t){return this.$g(t,"$ms",e)},f.unix=function(){return Math.floor(this.valueOf()/1e3)},f.valueOf=function(){return this.$d.getTime()},f.startOf=function(e,s){var u=this,c=!!_.u(s)||s,d=_.p(e),f=function(e,t){var n=_.w(u.$u?Date.UTC(u.$y,t,e):new Date(u.$y,t,e),u);return c?n:n.endOf(i)},h=function(e,t){return _.w(u.toDate()[e].apply(u.toDate(),(c?[0,0,0,0]:[23,59,59,999]).slice(t)),u)},p=this.$W,v=this.$M,m=this.$D,g="set"+(this.$u?"UTC":"");switch(d){case l:return c?f(1,0):f(31,11);case a:return c?f(1,v):f(0,v+1);case o:var y=this.$locale().weekStart||0,b=(p<y?p+7:p)-y;return f(c?m-b:m+(6-b),v);case i:case"date":return h(g+"Hours",0);case r:return h(g+"Minutes",1);case n:return h(g+"Seconds",2);case t:return h(g+"Milliseconds",3);default:return this.clone()}},f.endOf=function(e){return this.startOf(e,!1)},f.$set=function(o,s){var u,c=_.p(o),d="set"+(this.$u?"UTC":""),f=(u={},u.day=d+"Date",u.date=d+"Date",u[a]=d+"Month",u[l]=d+"FullYear",u[r]=d+"Hours",u[n]=d+"Minutes",u[t]=d+"Seconds",u[e]=d+"Milliseconds",u)[c],h=c===i?this.$D+(s-this.$W):s;if(c===a||c===l){var p=this.clone().set("date",1);p.$d[f](h),p.init(),this.$d=p.set("date",Math.min(this.$D,p.daysInMonth())).toDate()}else f&&this.$d[f](h);return this.init(),this},f.set=function(e,t){return this.clone().$set(e,t)},f.get=function(e){return this[_.p(e)]()},f.add=function(e,s){var u,c=this;e=Number(e);var d=_.p(s),f=function(t){var n=y(c);return _.w(n.date(n.date()+Math.round(t*e)),c)};if(d===a)return this.set(a,this.$M+e);if(d===l)return this.set(l,this.$y+e);if(d===i)return f(1);if(d===o)return f(7);var h=(u={},u[n]=6e4,u[r]=36e5,u[t]=1e3,u)[d]||1,p=this.$d.getTime()+e*h;return _.w(p,this)},f.subtract=function(e,t){return this.add(-1*e,t)},f.format=function(e){var t=this;if(!this.isValid())return"Invalid Date";var n=e||"YYYY-MM-DDTHH:mm:ssZ",r=_.z(this),i=this.$locale(),o=this.$H,a=this.$m,s=this.$M,l=i.weekdays,u=i.months,d=function(e,r,i,o){return e&&(e[r]||e(t,n))||i[r].substr(0,o)},f=function(e){return _.s(o%12||12,e,"0")},h=i.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:_.s(s+1,2,"0"),MMM:d(i.monthsShort,s,u,3),MMMM:u[s]||u(this,n),D:this.$D,DD:_.s(this.$D,2,"0"),d:String(this.$W),dd:d(i.weekdaysMin,this.$W,l,2),ddd:d(i.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(o),HH:_.s(o,2,"0"),h:f(1),hh:f(2),a:h(o,a,!0),A:h(o,a,!1),m:String(a),mm:_.s(a,2,"0"),s:String(this.$s),ss:_.s(this.$s,2,"0"),SSS:_.s(this.$ms,3,"0"),Z:r};return n.replace(c,(function(e,t){return t||p[e]||r.replace(":","")}))},f.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},f.diff=function(e,i,u){var c,d=_.p(i),f=y(e),h=6e4*(f.utcOffset()-this.utcOffset()),p=this-f,v=_.m(this,f);return v=(c={},c[l]=v/12,c[a]=v,c[s]=v/3,c[o]=(p-h)/6048e5,c.day=(p-h)/864e5,c[r]=p/36e5,c[n]=p/6e4,c[t]=p/1e3,c)[d]||p,u?v:_.a(v)},f.daysInMonth=function(){return this.endOf(a).$D},f.$locale=function(){return v[this.$L]},f.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=g(e,t,!0);return r&&(n.$L=r),n},f.clone=function(){return _.w(this.$d,this)},f.toDate=function(){return new Date(this.valueOf())},f.toJSON=function(){return this.isValid()?this.toISOString():null},f.toISOString=function(){return this.$d.toISOString()},f.toString=function(){return this.$d.toUTCString()},d}();return y.prototype=b.prototype,y.extend=function(e,t){return e(t,b,y),y},y.locale=g,y.isDayjs=m,y.unix=function(e){return y(1e3*e)},y.en=v[p],y.Ls=v,y}()})),tt=ae("pb:strings");function nt(e,t,n){void 0===n&&(n=Ke());var r=n[e];if(!r)return"";if(t)try{r=it(r,t)}catch(e){tt(e.message)}return rt(r)}function rt(e){return e.replace(/\*\*([^*]*)\*\*/g,"<strong>$1</strong>")}function it(e,t,n){void 0===n&&(n=!1);var r=[],i=e.replace(/\{\{([^}]+)\}\}/g,(function(e,i){return n&&!t[i]?(r.push(i),""):t[i]||""}));if(n&&r.length)throw new Error("Unknown variable: "+r.join(", "));return i}function ot(e){return e.length>0?e.charAt(0).toUpperCase()+e.slice(1):e}function at(e,t){void 0===e&&(e=et());var n=t.startOf("day").diff(e.startOf("day"),"day");return 0===n?nt("today"):1===n?nt("tomorrow"):t.format("dddd")}function st(e){return x("svg",e,x("path",{d:"M0 0h24v24H0z",fill:"none"},null),x("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z",fill:"currentColor"},null))}function lt(e){return x("svg",e,x("path",{d:"M0 0h24v24H0z",fill:"none"},null),x("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z",fill:"currentColor"},null))}st.defaultProps={xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24},lt.defaultProps={xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24};var ut=function(){var e=Oe("availabilityFetchStatus","availabilityHelpInfoVisible","postalCode"),t=e.dispatch,n=e.availabilityFetchStatus,r=e.availabilityHelpInfoVisible,i=e.postalCode,o=Ye().alternateAvailabilityView,a=Ze(null);return x("div",null,"REQUEST::INIT"!==n?x("div",{onClick:function(){return t("clearPostalCode")},className:a.element("postal-code-button-container",{alternate:o})},x(st,null),x("span",null,i)):null,x("div",{onClick:function(e){r?function(e){e.currentTarget.animate([{bottom:"calc(100% - 20px)"},{bottom:"0"}],{duration:140})}(e):function(e){e.currentTarget.animate([{bottom:"0"},{bottom:"calc(100% - 20px)"}],{duration:140})}(e),t("toggleHelpInfo",!r)},className:r?a.element("button-info-section-top",{alternate:o}):a.element("button-info-section-bottom",{alternate:o})},r?null:x("span",{className:"contactless-info-text"},""+nt("deliveryInfoButtonText")," ",x(lt,null))))},ct=function(e){var t,n=e.children,r=e.isLoading,i=void 0!==r&&r,o=e.isHidden,a=void 0!==o&&o,s=e.contactLessInfoInWidget,l=e.view,u=Ye().alternateAvailabilityView,c=Ze(null,{loading:i,hidden:a});return"availability"===l?t={paddingBottom:"20px",backgroundColor:u?"white":""}:"checkout"===l&&(t={background:"white"}),x("div",{className:c.className,style:t},x("div",{className:c.element("spinner",{alternate:"availability"===l&&u})},x(Je,null)),x("div",{className:c.element("content")},n),s&&"availability"===l||"deliveryInfo"===l?x(ut,null):null)};function dt(e){return!(!e||"string"!=typeof e)&&/^\d{4}$/.test(e)}function ft(e){return x("svg",e,x("path",{d:"M0 0h24v24H0z",fill:"none"},null),x("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z",fill:"currentColor"},null))}ft.defaultProps={xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24};var ht=function(e){e.currentPostalCode;var t=e.setPostalCode,n=void 0===t?function(e){console.log(e)}:t,r=ge(!1),i=r[0],o=r[1],a=ge(""),s=a[0],l=a[1],u={},c=Ze("availability__postcode",{invalid:!i}),d=function(e){e.preventDefault();var t=u.current?u.current.value:"";t&&dt(t)?(o(!0),n(t),l("")):o(!1)};return x("form",{className:c.className,onSubmit:d},x("span",{className:c.element("text")},nt("availabilityPostCodeText")),x("div",{className:c.element("inputwrap")},x("input",{className:c.element("input"),ref:u,onInput:function(e){var t=u.current?u.current.value:"";l(t),o(dt(t))},id:"pb-postcode",type:"text",inputMode:"numeric",pattern:"[0-9]{4}",value:s,placeholder:nt("availabilityEnterPostalCodePlaceholder")}),x(ft,{onClick:function(e){e.stopPropagation(),d(e)},className:c.element("search-button")})))},pt=function(e){var t=e.text,n=e.className,r=e.vars,i=void 0===r?{}:r,o=e.tagName;return x(void 0===o?"span":o,{className:n,dangerouslySetInnerHTML:{__html:nt(t,i)}})},vt=function(e){var t=e.className,n=void 0===t?"":t,r=e.text,i=void 0===r?"text":r,o=e.type,a=void 0===o?"primary":o,s=e.buttonType,l=void 0===s?"button":s,u=e.disabled,c=void 0!==u&&u,d=e.loading,f=void 0!==d&&d,h=e.onClick,p=void 0===h?function(e){console.log("Button was clicked")}:h,v=Ze("btn",{loading:f,text:"text"===a,primary:"primary"===a,secondary:"secondary"===a});return x("button",{type:l,className:("unstyled"===a?"":v.className)+" "+n,disabled:c,dangerouslySetInnerHTML:{__html:i},onClick:c?void 0:p})},mt=ae("pb:availability:error"),gt=function(e){var t=e.vars,n=void 0===t?{postalCode:""}:t,r=e.availabilityFetchStatus,i=e.onTryAgain,o=void 0===i?function(){return mt("onTryAgain was clicked")}:i,a=Ze("availability__error");return"REQUEST::POSTBOX_PO_CODE"===r?x("div",{className:a.componentClassName},x(pt,{text:"availabilityPostboxCode",vars:n}),x(vt,{className:a.element("retry"),type:"text",text:nt("availabilityTryAnother",n),onClick:o})):"REQUEST::OUTSIDE_DELIVERY_AREA"===r?x("div",{className:a.componentClassName},x(pt,{text:"availabilityPostcodeError",vars:n})):"REQUEST::DELIVERY_NOT_AVAILABLE"===r?x("div",{className:a.componentClassName},x(pt,{text:"availabilityDeliveryNoDate"})):"REQUEST::UNKNOWN_PO_CODE"===r?x("div",{className:a.componentClassName},x(pt,{text:"availabilityUnknownPostcode"}),x(vt,{className:a.element("retry"),type:"text",text:nt("tryAgainButton",n),onClick:o})):x("div",{className:a.componentClassName},x(pt,{text:"availabilityServiceNotAvailable",tagName:"span"}))},yt=function(e){var t=e.text;return x("div",{className:Ze("availability__pending").className},x("span",null,t))},_t=function(e){var t=e.handleClick,n=void 0===t?function(){return console.log("Click")}:t,r=e.alternateAvailabilityView;return x("div",{className:Ze("availability").element("start",{alternate:r})},x(pt,{text:"availabilityStart"}),x(vt,{type:"text",onClick:n,text:nt("availabilityClickToSee")}))},bt=function(e){var t=e.texts,n=e.vars,r=void 0===n?{}:n,i=e.className,o=e.tagName,a=void 0===o?"span":o,s=e.separator,l=void 0===s?" ":s,u=t.map((function(e){return e.style?'<span style="'+e.style+'">'+nt(e.key,r)+"</span>":nt(e.key,r)})),c="string"==typeof l?l:l(u);return x(a,{className:i,dangerouslySetInnerHTML:{__html:u.join(c).trim()}})},wt=function(e){var t=e.vars,n=e.isSunday,r=e.alternateAvailabilityView,i=Ze("availability__success"),o=[{key:"availabilityPostcodeSuccess"},{key:"availabilitySuccessCountdown",style:"font-size: 13px; color: "+(r?"#767676":"#661AFF80")+";"}];return x("div",{className:i.className},x(bt,{texts:o,vars:t,className:i.element("texts",{sunday:n}),tagName:"span",separator:function(e){return-1===e[0].indexOf("<br")&&e[0].replace(/(<([^>]+)>)/gi,"").length<60?"<br/>":"&nbsp;&nbsp;"}}))};function St(e){if(e.length){var t=et(e[0].start).startOf("day");return e.filter((function(e){return 0===t.diff(et(e.start).startOf("day"),"day")}))}return[]}function xt(e){var t=St(e).map((function(e){return{delivery:et(e.start),expiresAt:et(e.expiresAt)}}));return{first:t[0],last:t[t.length-1]}}function Tt(e){return x("svg",e,x("path",{d:"M0 0h24v24H0V0z",fill:"none",opacity:.87},null),x("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm4.3 14.3c-.39.39-1.02.39-1.41 0L12 13.41 9.11 16.3c-.39.39-1.02.39-1.41 0-.39-.39-.39-1.02 0-1.41L10.59 12 7.7 9.11c-.39-.39-.39-1.02 0-1.41.39-.39 1.02-.39 1.41 0L12 10.59l2.89-2.89c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41L13.41 12l2.89 2.89c.38.38.38 1.02 0 1.41z",fill:"currentColor"},null))}Tt.defaultProps={xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24};var kt=function(){var e=Oe("availabilityHelpInfoVisible","vars"),t=e.dispatch,n=e.availabilityHelpInfoVisible,r=e.vars,i=Ze("help-info");return x("div",{className:i.className+"__"+(n?"visible":"invisible")},x(Tt,{onClick:function(e){!function(e){var t,n=e.currentTarget;if("svg"===(null==n?void 0:n.tagName)){var r=null===(t=document.querySelector("."+(null==n?void 0:n.className.baseVal)))||void 0===t?void 0:t.parentElement;console.log(r),r&&r.animate([{top:"0",left:"0"},{top:"100%",left:"100%"}],{duration:100})}}(e),t("toggleHelpInfo",!1)},className:"close-icon"}),x(bt,{texts:[{key:"helpInfo"}],vars:r,className:i.element("texts"),tagName:"span",separator:function(e){return e[0].length<60?"<br/>":"&nbsp;&nbsp;"}}))};function Nt(e){return x("svg",e,x("path",{d:"M39.8,31.5C39.8,17.2,47.8,8,59.7,8s20,9.2,20,23.5S71.8,55,59.7,55,39.8,45.8,39.8,31.5Zm30.9,0c0-9.2-4.4-14.9-10.9-14.9S48.9,22.2,48.9,31.5s4.5,14.9,10.9,14.9S70.7,40.7,70.7,31.5Z",fill:"#661aff"},null),x("path",{d:"M127.2,45.7a3.3,3.3,0,0,1-3.3-3.6V17.2h9.4V8.9h-9.4V0l-9.1,4.2V9H103.4c-4.4,0-7.6,2.8-8.9,7.2L93.8,9H86V54.1h9V30.4c0-8,3-13.2,8.9-13.2h10.9V43.4c0,6.4,4,10.7,10.1,10.7h8.3l1-8.3h-7Z",fill:"#661aff"},null),x("path",{d:"M177.2,40.1c-1.6,9.4-9.5,14.9-18.8,14.9-12.6,0-20.9-10.3-20.9-23.5S145.5,8,157.6,8s20.8,10.9,18.6,25.1H146.5c.4,7.7,4.8,13.3,11.9,13.3,5.2,0,9.1-3,10.2-7.9ZM147.1,25.3h20.2a9.1,9.1,0,0,0-9.3-8.8C152.9,16.5,148.7,19.6,147.1,25.3Z",fill:"#661aff"},null),x("path",{d:"M205.8,17.2h-4.4c-6,0-8.9,5.2-8.9,13.2V54.1h-9V8.9h7.8l.7,7.2c1.3-4.4,4.5-7.2,8.9-7.2h5Z",fill:"#661aff"},null),x("path",{d:"M250.5,31.5c0,14.3-7.7,23.5-18.5,23.5a14.3,14.3,0,0,1-12.7-8.1l-.7,7.2h-7.9V0h9V15.4A14.2,14.2,0,0,1,232,8C242.8,8,250.5,17.3,250.5,31.5Zm-9,0c0-9.2-4.5-14.9-11.1-14.9s-10.6,5.8-10.6,14.9,4.3,14.9,10.6,14.9S241.5,40.6,241.5,31.5Z",fill:"#661aff"},null),x("path",{d:"M292.4,8.9V54h-7.8l-.7-7.8c-2.4,5.6-6.8,8.8-12.6,8.8-9.2,0-15.4-6.4-15.4-16.7V8.9h9V36.3c0,6.3,3.6,10,9,10s9.5-5.2,9.5-11.8V8.9Z",fill:"#661aff"},null),x("path",{d:"M337,0V54.1h-7.9l-.7-7.3A14.2,14.2,0,0,1,315.6,55c-10.7,0-18.5-9.2-18.5-23.5S304.8,8,315.6,8A14.2,14.2,0,0,1,328,15.4V0Zm-9,31.5c0-9.1-4.3-15-10.7-15s-11,5.8-11,15,4.5,14.9,11,14.9S328,40.6,328,31.5Z",fill:"#661aff"},null),x("path",{d:"M382.5,0V54.1h-7.9l-.7-7.3A14.2,14.2,0,0,1,361.1,55c-10.7,0-18.5-9.2-18.5-23.5S350.3,8,361.1,8a14.2,14.2,0,0,1,12.4,7.4V0Zm-9,31.5c0-9.1-4.3-15-10.7-15s-11,5.8-11,15,4.5,14.9,11,14.9S373.5,40.6,373.5,31.5Z",fill:"#661aff"},null),x("path",{d:"M425.5,8.9,409.9,51.6c-3.3,9.2-4.9,10.7-15.6,10.7l.2-8.3c8.2,0,7.4-6.4,7.4-6.4L388.7,8.9h9.7L406.7,36,416,8.9Z",fill:"#661aff"},null),x("path",{d:"M36.2,18.1c0,11.4-5.7,18.3-19.3,18.3H9.3V54H0V0H16C29.7,0,36.2,6.8,36.2,18.1Zm-8.8,0c0-6-3.5-9.5-11.5-9.5H9.2v19h6.7C23.9,27.6,27.4,24.3,27.4,18.1Z",fill:"#661aff"},null))}Nt.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:425.5,height:62.3,viewBox:"0 0 425.5 62.3"};var Et=ae("pb:Availability"),Dt=function(e){var t=e.alternateAvailabilityView,n=Oe("availabilityFetchStatus","deliveryDate","detectLocationStatus","expiresAt","latLng","postalCode","showPostCodeForm","now","deliveryWindows","vars"),r=n.availabilityFetchStatus,i=n.deliveryDate,o=n.detectLocationStatus,a=n.dispatch,s=n.expiresAt,l=n.latLng,u=n.postalCode,c=n.showPostCodeForm,d=n.now,f=n.deliveryWindows,h=n.vars,p=we(null);_e((function(){return function(){p.current&&(window.clearTimeout(p.current),Et("Removed expiration refresh timeout"))}}),[]);var v=function(){u||l?a("checkAvailability",{postalCode:u,latLng:l}):a("toggleShowPostCodeForm",!0)},m=function(e){return a("checkAvailability",{postalCode:e})},g=function(){return a("clearPostalCode")},y=Ze("availability",{alternate:t});return x("div",{className:y.className},x("div",{className:y.element("top")},x("div",{className:y.element("logo")},x(Nt,null)),x("div",{className:y.element("right-corner-text")},x("span",null,x("strong",null,nt("alwaysFirst"))))),x((function(){if("REQUEST::INIT"===r)return c?x(ht,{currentPostalCode:u,setPostalCode:m}):x(_t,{handleClick:v,alternateAvailabilityView:t});if("REQUEST::PENDING"===o)return x(yt,{text:nt("availabilityDetectingLocation")});if("REQUEST::PENDING"===r)return x(yt,{text:nt("availabilityFetching")});if("REQUEST::SUCCESS"===r&&s&&i&&f){p.current&&window.clearTimeout(p.current);var e=s.diff(d(),"millisecond");e>0&&e<864e5&&(p.current=window.setTimeout((function(){a("refresh")}),e));var n=0===et(St(f)[0].start).day();return x(wt,{vars:h,postalCode:u,onChangePostalCode:g,isSunday:n,alternateAvailabilityView:t})}return x(gt,{vars:h,availabilityFetchStatus:r,onTryAgain:g})}),null),x(kt,null))};var Ct=function(e){var t=e.selectedDeliveryWindow,n=e.currentMatrixWidth,r=Oe("now").now,i=Ze("checkout-title",{});if(t){var o=et(t.start),a=et(t.end);return x("div",{className:i.className},x("span",{className:i.element("selection")},nt("checkoutTitleSelectedPrefix")," ",at(r(),o)," ",o.format("HH:mm")," - ",a.format("HH:mm")),x(Nt,null))}return x("div",{className:i.className},x("div",{className:i.element("selection")},n>=451?x("span",null,nt("alwaysFirst")," "):null,x("span",{style:n<325?{fontSize:"12px"}:"null"},nt("checkoutTitle"))),x(Nt,null))},Ot=function(e,t){return(Ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.

  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */var At=function(){return(At=X||function(e){for(var t,n=arguments,r=1,i=arguments.length;r<i;r++)for(var o in t=n[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};String.prototype.padStart||(String.prototype.padStart=function(e,t){return e>>=0,t=String(t||" "),this.length>e?String(this):((e-=this.length)>t.length&&(t+=t.repeat(e/t.length)),t.slice(0,e)+String(this))});var Mt=function(){return{hour:{unit:nt("hour"),plural:nt("hourPlural"),short:nt("hourShort")},minute:{unit:nt("minute"),plural:nt("minutePlural"),short:nt("minuteShort")},second:{unit:nt("second"),plural:nt("secondPlural"),short:nt("secondShort")}}};function Pt(e,t,n,r){return void 0===r&&(r=1e3),e<1||e%r==0?[0,""]:e%r==1?[e,e%r+" "+(n?t.short:t.unit)]:[e,e%r+" "+(n?t.short:t.plural)]}function Rt(e){return 60*e.hour()+e.minute()}function Lt(e,t){void 0===t&&(t=et());var n=e.startOf("day").diff(t.startOf("day"),"day");return 0===n?nt("today"):1===n?nt("tomorrow"):n<7?""+e.format("dddd"):""+e.format("DD. MMMM")}function It(e,t,n){void 0===n&&(n=!1);var r=t.diff(e.startOf("day"),"day"),i=n?" ":" "+nt("separator")+" ";if(r>0)return Lt(t,e)+" "+nt("clockSeparator")+" "+t.format("HH:mm");var o=Pt(t.diff(e,"hour"),Mt().hour,n),a=o[0],s=o[1];if(a>8)return""+s;var l=Pt(t.diff(e,"minute"),Mt().minute,n,60),u=l[0],c=l[1];if(s&&c)return""+s+i+c;if(s)return""+s;if(u>5&&c)return""+c;var d=Pt(t.diff(e,"second"),Mt().second,n,60),f=d[0],h=d[1];return c&&h?""+c+i+h:c?""+c:f>0?h:""}var Wt=ae("pb:lib:calendar");function Ht(e,t){var n=e.start,r=e.end,i=t.startMinutes,o=t.endMinutes,a=Rt(n),s=Rt(r);return a<o&&s>i}function Ft(e,t){void 0===t&&(t=et());for(var n=t.startOf("day"),r=e.map((function(e,t){return At(At({},e),{index:t})})).filter((function(e){return et(e.start).startOf("day").diff(t,"day")>=0})).map((function(e,t){var r=et(e.start),i=et(e.end);return{start:r,end:i,duration:i.diff(r,"minute"),column:r.diff(n,"day"),overlapLeft:[],overlapRight:[],overlapIndex:0,overlapCount:0,index:e.index,data:At({},e)}})),i=r[r.length-1].end.startOf("day").diff(n.startOf("day"),"day")+1,o=function(e){return e.slice().map((function(t,n){var r={},i={};e.forEach((function(e,o){var a,s;o!==n&&(s=t,(a=e).end.isAfter(s.start)&&a.start.isBefore(s.end))&&(e.duration<=t.duration?r[""+e.duration]=e:e.duration>t.duration&&(i[""+e.duration]=e))}));var o=Object.keys(r).map((function(e){return r[e]})),a=Object.keys(i).map((function(e){return i[e]}));return At(At({},t),{overlapLeft:o,overlapRight:a,overlapCount:o.length+a.length+1,overlapIndex:o.length})}))}(r),a=o.reduce((function(e,t){return Math.max(e,t.overlapCount)}),1),s=function(e,t){void 0===t&&(t=30);for(var n,r=Ut(jt(e)),i=r.startMinutes,o=r.endMinutes,a=i+t,s=a+t,l=[];s<o;)e.some((function(e){return Ht(e,{startMinutes:a,endMinutes:s})}))||(n&&l[n-1].endMinutes===a?l[n-1].endMinutes=s:(n=l.push({startMinutes:a,endMinutes:s}),Wt(n))),a+=t,s+=t;return l.length&&Wt($t(l[0].startMinutes)+" - "+$t(l[0].endMinutes)),l}(o),l=[],u=function(e){var t={day:n.startOf("day").add(e,"day"),events:o.filter((function(t){return t.column===e}))};t.events.length&&l.push(t)},c=0;c<i;c++)u(c);for(var d=o[o.length-1].end,f=jt(o),h=Ut(f),p=h.startMinutes,v=h.endMinutes,m=[],g=p;g<=v+30;){var y=zt(s,g);y?g=y.endMinutes:(m.push(g),g+=60)}return{start:n,end:d,columns:l,emptyMinuteRanges:s,startMinutes:p,endMinutes:v,rowLabels:m,maxOverlap:a,usedMinutes:f}}function jt(e){var t=[];return e.forEach((function(e){var n=e.start,r=e.end,i=Rt(n);t.indexOf(i)<0&&t.push(i);var o=Rt(r);t.indexOf(o)<0&&t.push(o)})),t.sort((function(e,t){return e-t}))}function Ut(e){return{startMinutes:e[0],endMinutes:e[e.length-1]}}function $t(e){return Math.floor(e/60).toString().padStart(2,"0")+":"+(e%60).toString().padStart(2,"0")}function zt(e,t){return e.filter((function(e){return t>e.startMinutes&&t<e.endMinutes}))[0]}var Vt=!1;try{window.addEventListener("test",(function(){}),Object.defineProperty({},"passive",{get:function(){return Vt={passive:!0}}}))}catch(e){}var Bt=ae("pb:hooks:useWindowResize");function qt(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=250),_e((function(){if("function"==typeof t?t():t){var r;Bt("Add resize listener");var i=function(){clearTimeout(r),Bt("Set close timeout"),r=window.setTimeout(e,n)};return window.addEventListener("resize",i,Vt),function(){Bt("Remove resize listener"),window.removeEventListener("resize",i),clearTimeout(r)}}Bt("Disabled resize listener")}),[n,e,t])}var Yt=function(e){function t(){var t=e.call(this)||this;return t.touchStartX=0,t.touchRef={},t.handleTouchStart=function(e){t.touchStartX=e.touches[0].clientX},t.handleTouchMove=function(e){var n=t.props.threshold,r=t.state.touchMoveX,i=e.touches[0].clientX-t.touchStartX;if(Math.abs(r-i)>10){var o=t.props,a=o.onSwipeLeft,s=o.onSwipeRight,l=o.swipeLeftEnabled;o.swipeRightEnabled&&i>0&&(i>n?s&&(s(),t.touchStartX=e.touches[0].clientX):t.setState({touchMoveX:i})),l&&i<0&&(i<-n?a&&(a(),t.touchStartX=e.touches[0].clientX):t.setState({touchMoveX:i}))}},t.handleTouchEnd=function(){t.touchStartX=0,t.setState({touchMoveX:0})},t.componentDidMount=function(){t.touchRef&&t.touchRef.current&&(t.touchRef.current.addEventListener("touchstart",t.handleTouchStart),t.touchRef.current.addEventListener("touchmove",t.handleTouchMove),t.touchRef.current.addEventListener("touchend",t.handleTouchEnd))},t.render=function(){var e=t.props,n=e.className,r=e.children,i=t.state.touchMoveX;return x("div",{className:n,ref:t.touchRef,style:{transform:"translateX("+i+"px)"}},r)},t.state={touchMoveX:0},t}return function(e,t){function n(){this.constructor=e}Ot(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(E),Qt=function(e){var t=e.className,n=void 0===t?"":t,r=e.prefix,i=void 0===r?"":r,o=e.to,a=e.now,s=e.short,l=void 0!==s&&s,u=e.tagName,c=void 0===u?"span":u,d=ge(It(a(),o,l)),f=d[0],h=d[1],p=function(){var e=a(),t=o.diff(e,"minute");t>0?(h(It(a(),o,l)),window.setTimeout((function(){return p()}),function(e,t){return e>5?1e3*(60-t.second())+100:1e3-t.millisecond()+50}(t,e))):h("---")};return _e((function(){p()}),[]),x(c,{className:n},i+" "+f)},Xt=function(e,t){return void 0===t&&(t=0),{fractionalDenomination:Math.max(e.fractionalDenomination-t,0),currency:e.currency}},Gt=function(e){var t=e.fractionalDenomination;return t%100==0?t/100+",-":t/100-t/100%1+","+(t%100).toString().padStart(2,"0")},Zt=function(e,t){return function(e,t){if(!e)return"kr 0,-";var n=Xt(e,t),r=Gt(n);switch(e.currency){case"NOK":return"kr "+r;default:return e.currency+" "+r}}(e.displayPrice||e.price,t)},Kt=function(e){return e.reduce((function(e,t){return(t.displayPrice?t.displayPrice.fractionalDenomination:t.price.fractionalDenomination)<(e.displayPrice?e.displayPrice.fractionalDenomination:e.price.fractionalDenomination)?t:e}))},Jt=ae("pb:matrix"),en=function(e){var t=e.deliveryWindows,n=e.now,r=void 0===n?function(){return et()}:n,i=e.discount,o=void 0===i?0:i,a=(e.selectedDeliveryWindow,e.selectedDeliveryWindowIndex),s=e.onSelectDeliveryWindow,l=void 0===s?function(e){return Jt("Selected window",e)}:s,u=e.consolidatedView,c=void 0!==u&&u,d=Ze("matrix",{consolidated:c});if(!t||0===t.length)return x("div",{className:d.className},x("div",{className:d.element("nowindows")}));var f=ge(0),h=f[0],p=f[1],v=ge(!1),m=v[0],g=v[1],y=ge(!1),_=y[0],b=y[1],w=ge(150),S=w[0],T=w[1],k=Ft(t,r()),N=k.columns,E=ge(2),D=E[0],C=E[1],O=Math.ceil(N.length/D)-1,A=function(){p(h>0?h-1:0)},M=function(){p(h<O?h+1:O)},P=function(e){var t=e.currentTarget?e.currentTarget:null,n=t&&t.dataset.index?parseInt(t.dataset.index,10):void 0;t&&"number"==typeof n?l(n):l()},R=we(),L=function(){if(Jt("Run resize callback"),R&&R.current){var e=R.current.clientWidth;g(e<=350),b(e>450),T(Math.min(e/2,160));var t=h*D,n=Math.max(75*k.maxOverlap,100),r=e>3*n+30?3:e>2*n+30?2:1;r!==D&&(C(Math.min(r,N.length)),p(Math.floor(t/r)))}};_e((function(){L()}),[]),qt((function(){L()}));for(var I=function(e){return 1*e+"em"},W=function(e){var t=e.column;if(t.events.length>0){var n=et(t.events[0].data.expiresAt);if(0===n.startOf("day").diff(r().startOf("day")))return x(Qt,{className:d.element("label-countdown"),prefix:nt("matrixCountdownPrefix")+":",to:n,now:r,short:!0,tagName:"small"})}return x("small",null,t.day.format("DD. MMM"))},H=240,F=1;F<k.usedMinutes.length;F++)H=Math.min(H,k.usedMinutes[F]-k.usedMinutes[F-1]);var j,U=function(e){return H<=60||k.usedMinutes.indexOf(e)>-1?x("small",null,$t(e)):null},$=function(e){var t=function(e,t){return void 0===t&&(t=0),Xt(e.displayPrice||e.price,t)}(e,o);return t.fractionalDenomination>0?Gt(t):ot(nt("free"))};return j=m||c?"btn-page-next":h!==O||m&&c?"btn-page-next arrow-shape":"btn-page-next arrow-shape disabled",x("div",{className:d.className},x("div",{className:d.element("calendar"),ref:R},x("div",{className:d.element("labelcol")},k.rowLabels.map((function(e){return x("div",{className:d.element("label",{row:1})},U(e))}))),x("div",{className:d.element("columns")},x("div",{className:d.element("header")},N.map((function(e){return x("div",{className:d.element("col",{header:1}),style:{width:100/D+"%",transform:"translateX("+-h*D*100+"%)"}},x("div",{className:d.element("label",{col:1})},x("em",null,ot(at(r(),e.day))),x(W,{column:e})))}))),x(Yt,{className:d.element("timetable"),onSwipeLeft:M,swipeLeftEnabled:h<O,onSwipeRight:A,swipeRightEnabled:h>0,threshold:S},k.emptyMinuteRanges.map((function(e){var t=(e.startMinutes-k.startMinutes)/60;return x("div",{className:d.element("empty"),style:{top:I(t)}},x("svg",{viewBox:"0 0 10 5",xmlns:"http://www.w3.org/2000/svg"},x("path",{d:" M0,2 l04.5,-1 l1,3 l4.5,-1 "})))})),N.map((function(e,t){return x("div",{className:d.element("col"),style:{width:100/D+"%",transform:"translateX("+-h*D*100+"%)"}},x("div",{className:d.element("events")},e.events.map((function(e){var t,n=Rt(e.start),r=k.emptyMinuteRanges.reduce((function(e,t){return t.startMinutes<=n?e+(t.endMinutes-t.startMinutes)/60:e}),0),i=e.overlapCount>1?"pb-x1of"+e.overlapCount:"",s=e.overlapIndex>0?"pb-l"+e.overlapIndex+"of"+e.overlapCount:"",l=(n-k.startMinutes)/60-(r?r-1:0),u="pb-blue-"+e.duration/60,c=I(e.duration/60);return x("div",{"data-index":e.index,className:d.element("event",{selected:a===e.index,free:(t=e.data,((t.displayPrice||t.price).fractionalDenomination-o)/100<=0),sunday:!1,selectedSunday:!1})+" "+s+" "+i+" "+u,style:{top:I(l),height:c,backgroundColor:"hsl(182,100,37)"},onClick:P},x("em",null,$(e.data)))}))))}))),O>0&&x("div",{className:d.element("button-container")},x("div",{className:d.element("buttons")},x(vt,{className:"btn-page-prev",type:"unstyled",text:m?'<svg xmlns="http://www.w3.org/2000/svg" width="6.6" height="11.2" viewBox="0 0 6.6 11.2"><title>left</title><path id="button-icon" d="M6.3,9.5,2.4,5.6,6.3,1.7A1,1,0,0,0,6.3.3,1,1,0,0,0,4.9.3L.3,4.9a1,1,0,0,0,0,1.4l4.6,4.6A1,1,0,0,0,6.3,9.5Z"/></svg>':ot(nt("prevDays")),disabled:0===h,onClick:A}),x(vt,{className:j,type:"unstyled",text:m?'<svg xmlns="http://www.w3.org/2000/svg" width="6.6" height="11.2" viewBox="0 0 6.6 11.2"><title>right</title><path id="button-icon" d="M.3,9.5,4.2,5.6.3,1.7A1,1,0,0,1,.3.3,1,1,0,0,1,1.7.3L6.3,4.9a1,1,0,0,1,0,1.4L1.7,10.9a1,1,0,0,1-1.4,0A1,1,0,0,1,.3,9.5Z"/></svg>':ot(nt("nextDays")),disabled:h===O,onClick:M})))),_&&x("div",{className:d.element("labelcol",{right:1})},k.rowLabels.map((function(e){return x("div",{className:d.element("label",{row:1,right:1})},U(e))})))),x("div",O>0?{className:d.element("placeholder-large")}:{className:d.element("placeholder-small")}))};function tn(e){var t=e.light,n=void 0!==t&&t,r=n?"#fff":"#0b6574",i=n?["#0b6574","#00b6bc","#81d0d9"]:["#81d0d9","#00b6bc","#0b6574"],o=n?"logo-gradient-light":"logo-gradient";return x("svg",{viewBox:"0 0 318 64",className:Ze("logo",{light:n}).className},x("linearGradient",{id:o,gradientTransform:"rotate(45, 0.5, 0.5)"},x("stop",{style:{stopColor:i[0]},offset:"0.5"}),x("stop",{style:{stopColor:i[1]},offset:"0.5"})),x("path",{fill:"url(#"+o+")",d:"M0 19v-3a16 16 0 1 1 16 16h-3v-4h3A12 12 0 1 0 4 16v3h2.5v3q0 1-1 1H1q-1 0-1-1z",transform:"scale(2)"}),x("path",{fill:i[2],d:"M26 32a6 6 0 1 1 6 6q-1 0-1 1v6q0 1 1 1a14 14 0 1 0-14-14v26q0 6 6 6h8q-6 0-6-6z"}),x("path",{fill:r,d:"M104.9 18.3c-1.8-1.5-4.6-2.3-8.3-2.3h-6.7c-1 0-1.9.9-1.9 1.9v27.7h3c1 0 1.9-.9 1.9-1.9v-9.2H96c3.7 0 6.6-.8 8.7-2.5 2-1.6 3-4 3.1-7.1-.2-2.9-1.1-5.1-2.9-6.6zm-4 10.9c-1.2.9-3 1.3-5.5 1.3h-2.6v-9c0-.8.6-1.4 1.4-1.4h2c2.2 0 3.8.4 4.9 1.3 1 .9 1.6 2.1 1.6 3.8 0 1.8-.6 3.1-1.8 4zm19.2-6.4c-3.4 0-6 1-7.9 3.1-1.9 2-2.8 4.9-2.8 8.5-.1 2.1.4 4.2 1.3 6.2.8 1.7 2.1 3.1 3.7 4.1 1.7 1 3.6 1.5 5.6 1.4 3.4 0 6-1 7.9-3.1s2.8-4.9 2.8-8.6c0-3.5-.9-6.3-2.8-8.4-2-2.2-4.5-3.2-7.8-3.2zm0 19.3c-3.8 0-5.7-2.6-5.7-7.8 0-2.5.4-4.4 1.3-5.7.9-1.3 2.3-2 4.3-2 3.8 0 5.7 2.6 5.7 7.7.1 5.2-1.8 7.8-5.6 7.8zm38.4-.8c-.6-.7-.9-1.6-.9-2.5V26.7h4.5c1.1 0 1.9-.9 1.9-1.9 0-1.1-.9-1.9-1.9-1.9h-4.5v-4.6h-2.9l-1.6 4.6h-7.3c-1.9 0-5.6.3-7.9 2.7-1.6 1.5-2.5 3.6-2.5 5.8v14.3h4.8V33.9c0-2-.2-4.3.6-5.4 1.5-1.9 3.3-1.9 5-1.9h7v12.2c0 4.8 2.3 7.1 6.8 7.1.9 0 1.7-.1 2.6-.2.7-.1 1.4-.3 2-.6v-3.6c-1.1.4-2.3.5-3.5.5-.8.2-1.6-.1-2.2-.7zm19.2-18.5c-3.2 0-5.7 1-7.5 3.1s-2.7 5-2.7 8.6 1 6.4 3 8.4 4.7 3 8.2 3.1c1.4 0 2.7-.1 4.1-.3 1.2-.2 2.4-.6 3.5-1.2v-3.9c-1.2.5-2.4 1-3.7 1.3-1.2.3-2.5.4-3.7.4-1.7.1-3.4-.5-4.7-1.8-1.1-1.2-1.7-2.8-1.8-5h14.9V33c0-3.1-.9-5.6-2.6-7.4-1.7-1.8-4-2.8-7-2.8zm-5.3 9.2c.1-1.5.6-3 1.6-4.2 1-1 2.3-1.5 3.6-1.4 1.3-.1 2.6.5 3.6 1.4.8 1 1.3 2.3 1.3 4.2h-10.1zm31.7-9.2c-1.4 0-2.7.4-3.9 1.2-1.2.8-2.2 1.9-2.9 3.2h-.2l-.6-3.9h-3.7v22.4h2.9c1 0 1.9-.8 1.9-1.9v-9.9c-.1-1.8.6-3.5 1.8-4.8 1.2-1.2 2.9-1.9 4.6-1.8.7 0 1.4.1 2.1.2l.8-4.1c-1-.3-1.9-.5-2.8-.6zM217 45.6c-2.7.2-5.2-1.8-5.6-4.5h-.1l-.8 3.2c-.1.6-.7 1-1.2 1h-.6l5.6-26.4c.1-.6.7-1 1.3-1h.9c-1.7 8.3-2.1 9.8-2.5 11.5h.1c1-1.8 2.3-3.3 3.9-4.6 1.4-1 3-1.5 4.6-1.4 3.7 0 5.6 2.5 5.6 7.4 0 2.6-.5 5.2-1.5 7.6-.8 2.1-2.2 4-4 5.4-1.7 1.1-3.7 1.8-5.7 1.8zm5-20.6c-1.3 0-2.5.5-3.6 1.2-1.3.9-2.4 2.1-3.2 3.4-1 1.4-1.7 3-2.1 4.7-.4 1.3-.6 2.7-.7 4.1-.1 1.5.4 2.9 1.3 4 .8 1 2 1.5 3.3 1.5 1.6 0 3.2-.6 4.5-1.6 1.5-1.3 2.6-3 3.3-4.9.8-2.1 1.3-4.2 1.3-6.5 0-2-.3-3.5-1-4.5A4.1 4.1 0 0 0 222 25zm15.6-1.3l-3 13.9c-.2 1-.4 2.1-.4 3.1 0 .9.3 1.7.9 2.3.8.6 1.8.9 2.8.9 1.5 0 2.9-.4 4.1-1.3 1.4-1 2.5-2.2 3.3-3.7.9-1.8 1.6-3.6 2-5.6l2.1-9.6h2l-4.6 21.6H245l.6-4.1h-.1c-2.2 2.9-4.9 4.4-8 4.4-1.7 0-3.1-.4-4-1.2-.9-.9-1.4-2.3-1.3-3.6 0-1.1.2-2.3.4-3.4l3-13.7h2zm28.2-.3c3.1 0 4.9 1.5 5.6 4.4h.1c.2-.9.4-1.9 2.2-9.9h2l-5.6 26.5c-.1.6-.7 1-1.3 1h-.8l.9-5.4h-.1c-2.3 3.9-5.1 5.8-8.4 5.8-3.7 0-5.6-2.5-5.6-7.4 0-2.5.5-5 1.5-7.3.8-2.2 2.2-4.1 3.9-5.5 1.5-1.5 3.5-2.2 5.6-2.2zm-4.9 20.5c1.3 0 2.5-.5 3.6-1.3 1.3-.9 2.3-2 3.2-3.3.9-1.4 1.7-2.9 2.1-4.5.4-1.4.7-2.7.7-4.2.1-1.4-.4-2.9-1.2-4-.8-1-2.1-1.6-3.4-1.5-1.6 0-3.2.6-4.5 1.6-1.5 1.3-2.6 3-3.3 4.8-.8 2.1-1.3 4.3-1.3 6.5 0 4 1.4 5.9 4.1 5.9zm27.5-20.5c3.1 0 4.9 1.5 5.6 4.4h.1c.2-.9.4-1.9 2.1-9.9h2l-5.6 26.5c-.1.6-.7 1-1.3 1h-.6l.9-5.5h-.1c-2.3 3.9-5.1 5.8-8.4 5.8-3.7 0-5.6-2.5-5.6-7.4 0-2.5.5-5 1.4-7.3.8-2.2 2.2-4.1 3.9-5.5 1.5-1.4 3.5-2.1 5.6-2.1zm-5 20.5c1.3 0 2.5-.5 3.6-1.3 1.3-.9 2.3-2 3.2-3.3.9-1.4 1.6-2.9 2.1-4.5.4-1.4.7-2.7.7-4.2.1-1.4-.4-2.9-1.2-4-.8-1-2.1-1.6-3.4-1.5-1.6 0-3.2.6-4.5 1.6-1.5 1.3-2.6 3-3.3 4.8-.8 2.1-1.3 4.3-1.3 6.5.1 4 1.4 5.9 4.1 5.9zm16.9-20.2h2l1.6 10.9c.7 4.7 1 7.6 1.1 8.9h.2c.6-1.4 1.8-3.8 3.7-7.3l6.9-12.5h2.1l-14.2 25.7c-.7 1.3-1.5 2.5-2.4 3.5-.7.7-1.4 1.2-2.3 1.6-.9.4-1.9.6-2.9.6-.9 0-1.7-.1-2.6-.4v-1.8c.9.3 1.8.5 2.7.5 1.1 0 2.1-.3 2.9-1 1.1-.9 2-2 2.6-3.3.7-1.2 1.3-2.4 2-3.7l-3.4-21.7z"}))}var nn=function(e){var t=e.wrapInForm,n=e.className,r=e.children;return x(t?"form":"div",{className:n},r)},rn=ae("pb:checkout"),on=function(){var e,t,n,r=Oe("comment","deliveryWindows","leaveAtDoorstep","ready","discount","selectedDeliveryWindow","selectedDeliveryWindowIndex","now","showLogo"),i=r.dispatch,o=r.deliveryWindows,a=r.comment,s=r.leaveAtDoorstep,l=r.discount,u=r.selectedDeliveryWindow,c=r.selectedDeliveryWindowIndex,d=r.now,f=r.showLogo,h=Ye(),p=h.showLeaveAtDoorstep,v=h.wrapInForm,m=ge(!0),g=m[0],y=m[1],_=ge(0),b=_[0],w=_[1],S=(e=function(e){e.target&&i("comment",e.target.value)},t=250,function(){for(var r=arguments,i=[],o=0;o<arguments.length;o++)i[o]=r[o];clearTimeout(n),n=window.setTimeout((function(){return e.apply(void 0,i)}),t)}),T=Ze("checkout"),k=we(),N=function(){if(k&&k.current){var e=k.current.clientWidth;y(e>450),w(e)}};return qt((function(){N()})),_e((function(){N()}),[]),x(nn,{className:T.className,wrapInForm:v},f&&x("div",{className:T.element("logo")},x(tn,null)),x("div",{style:{display:"flex"}},x("div",{className:T.element("left-side-padding")}),x(Ct,{selectedDeliveryWindow:u,currentMatrixWidth:b}),g?x("div",{className:T.element("right-side-padding")}):null),x("div",{className:T.element("matrix"),ref:k},x(en,{discount:l,now:d,selectedDeliveryWindow:u,selectedDeliveryWindowIndex:c,onSelectDeliveryWindow:function(e){return i("selectDeliveryWindow",e)},deliveryWindows:o||[]})),x("div",{className:T.element("footer")},x("div",{className:T.element("left-side-padding")}),x("div",{className:T.element("footer-content")},x("label",{className:T.element("label")},x("textarea",{rows:1,onKeyUp:S,name:"comment",placeholder:nt("comment"),value:a})),p&&x("label",{className:T.element("label checkbox-section")},x("span",{style:b<505?{fontSize:"11px"}:"",className:"checkbox-label-text"},nt("leaveDoorstep")),x("input",{className:"pb-styled-checkbox",type:"checkbox",checked:s,onChange:function(e){e.target&&(rn("Toggle leave at doorstep"),i("leaveAtDoorstep",e.target.checked))},name:"leaveatdoorstep"}),x("span",{className:"custom-checkbox"}))),g?x("div",{className:T.element("right-side-padding")}):null))},an=function(){var e=Oe("vars"),t=e.dispatch,n=e.vars,r=Ze("deliveryInfo");return x("div",{onClick:function(e){!function(e){var t,n,r=null===(n=null===(t=document.querySelector("."+e.currentTarget.className))||void 0===t?void 0:t.parentElement)||void 0===n?void 0:n.nextElementSibling;r&&r.animate([{bottom:"calc(100% - 20px)"},{bottom:"0"}],{duration:140})}(e),t("toggleDeliveryInfo","availability")},className:r.className},x(bt,{texts:[{key:"deliveryInfo"}],vars:n,className:r.element("texts"),tagName:"span",separator:function(e){return e[0].length<60?"<br/>":"&nbsp;&nbsp;"}}),x(vt,{text:ot(nt("close",n)),className:r.element("button")}))},sn=["NO","EN"];function ln(){var e=window.navigator.language;if(e.includes("-")){var t=e.split("-")[0];e=t}return e&&sn.includes(e.toUpperCase())?e.toUpperCase():"NO"}K((function(e,t){e.exports=function(e){e=e&&e.hasOwnProperty("default")?e.default:e;var t={name:"nb",weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"sø._ma._ti._on._to._fr._lø.".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),ordinal:function(e){return e+"."},weekStart:1,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en måned",MM:"%d måneder",y:"ett år",yy:"%d år"}};return e.locale(t,null,!0),t}(et)})),K((function(e,t){e.exports={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")}}));var un=ae("pb:init"),cn=function(){var e=Oe("view","availabilityFetchStatus","deliveryWindows","detectLocationStatus","isLoading","ready","hidden","language"),t=e.dispatch,n=e.view,r=e.availabilityFetchStatus,i=e.detectLocationStatus,o=e.isLoading,a=e.ready,s=e.hidden,l=e.language;if(l&&et.locale(function(e){switch(e){case"NO":return"nb";case"EN":return"en";default:return"nb"}}(l)),!a)return null;var u={};u.current&&t("setComponentWidth",u.current.clientWidth);var c=o||"REQUEST::PENDING"===r||"REQUEST::PENDING"===i;un("loading",o);var d=Ye().alternateAvailabilityView;return x(ct,{isLoading:c,ref:u,isHidden:s,contactLessInfoInWidget:!0,view:n},"availability"===n&&x(Dt,{alternateAvailabilityView:d}),"checkout"===n&&x(on,null),"deliveryInfo"===n&&x(an,null))};Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],i=0;i<n;){var o=t[i];if(e.call(r,o,i,t))return i;i++}return-1}});var dn=ae("pb:actions:detectLocation");Array.prototype.includes||(Array.prototype.includes=function(e){if(null==this)throw new TypeError("Array.prototype.includes called on null or undefined");var t=Object(this),n=parseInt(t.length,10)||0;if(0===n)return!1;var r,i,o=parseInt(arguments[1],10)||0;for(0<=o?r=o:(r=n+o)<0&&(r=0);r<n;){if(e===(i=t[r])||e!=e&&i!=i)return!0;r++}return!1});var fn=function(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)},hn=["__proto__","prototype","constructor"];function pn(e){for(var t=e.split("."),n=[],r=0;r<t.length;r++){for(var i=t[r];"\\"===i[i.length-1]&&void 0!==t[r+1];)i=i.slice(0,-1)+".",i+=t[++r];n.push(i)}return n.some((function(e){return hn.includes(e)}))?[]:n}var vn=function(e,t,n){if(!fn(e)||"string"!=typeof t)return void 0===n?e:n;var r=pn(t);if(0!==r.length){for(var i=0;i<r.length;i++){if(!Object.prototype.propertyIsEnumerable.call(e,r[i]))return n;if(null==(e=e[r[i]])){if(i!==r.length-1)return n;break}}return e}},mn={product:"string",start:"date",end:"date",expiresAt:"date","price.fractionalDenomination":"number","price.currency":"string"};function gn(e){return!(!e||"object"!=typeof e)&&Object.keys(mn).every((function(t){var n=mn[t],r=vn(e,t);if(!r)return!1;switch(n){case"date":return et(r).isValid();default:return typeof r===n}}))}var yn,_n,bn,wn=ae("pb:crossDomainStorage"),Sn=je.widgetHost,xn=function(e){if(e.origin===Sn){if("get_response"===e.data.action&&e.data.value){_n?(_n(e.data.value),_n=void 0):wn("No callback present, could not resolve promise!")}"set_response"===e.data.action&&(wn("Got SetPostCode confirmation"),bn=void 0)}},Tn=function(e){wn("initialized cross domain storage with target window"),window.removeEventListener("message",xn),window.addEventListener("message",xn),yn=e},kn=function(){var e=document.getElementById("pbStorageFrame");if(e&&e.contentWindow)try{yn!==e.contentWindow&&Tn(e.contentWindow)}catch(e){wn("Could not access storage frame due to "+e.message+", falling back to localStorage"),yn=void 0}},Nn=function(e,t){e.postMessage(t,Sn)},En=function(e){kn(),yn?(wn("Sending setPostCode"),bn=e,Nn(yn,{action:"setPostCode",value:e})):wn("No target window available!")},Dn=function(){return kn(),yn?(wn("Sending getPostCode"),Nn(yn,{action:"getPostCode"}),new r((function(e,t){_n=function(t){e(t)},window.setTimeout((function(){return t(new Error("No response from cross-domain storage"))}),1e3)}))):(console.error("No target window available!"),r.reject(new Error("Cross-domain storage not initialized")))},Cn=function(){kn(),yn?(wn("Sending clearPostCode"),Nn(yn,{action:"clearPostCode"})):console.error("No target window available!")},On=function(){wn("Storage IFrame has loaded"),_n&&(kn(),yn&&(wn("Re-sending get request"),Nn(yn,{action:"getPostCode"}))),bn&&(kn(),yn&&(wn("Re-sending set request"),Nn(yn,{action:"setPostCode",value:bn})))};function An(e,t){return t=t||{},new r((function(n,i){var o=new XMLHttpRequest,a=[],s=[],l={},u=function(){return{ok:2==(o.status/100|0),statusText:o.statusText,status:o.status,url:o.responseURL,text:function(){return r.resolve(o.responseText)},json:function(){return r.resolve(JSON.parse(o.responseText))},blob:function(){return r.resolve(new Blob([o.response]))},clone:u,headers:{keys:function(){return a},entries:function(){return s},get:function(e){return l[e.toLowerCase()]},has:function(e){return e.toLowerCase()in l}}}};for(var c in o.open(t.method||"get",e,!0),o.onload=function(){o.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){a.push(t=t.toLowerCase()),s.push([t,n]),l[t]=l[t]?l[t]+","+n:n})),n(u())},o.onerror=i,o.withCredentials="include"==t.credentials,t.headers)o.setRequestHeader(c,t.headers[c]);o.send(t.body||null)}))}var Mn=je.widgetHost,Pn=function(e,t,n){var r={message:e,error:n};An(Mn+"/log/log-"+t,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(r)})},Rn=function(e){Pn(e,"info")},Ln=ae("pb:actions:reset"),In=ae("pb:actions:toggleDeliveryInfo");var Wn=ae("pb:lib:apiFetchAvailability"),Hn=function(e){switch(e){case"INVALID_POSTCODE":return 4;case"IS_POSTBOX_PO_CODE":return 3;case"LOCATION_NODELIVERY":return 2;case"COORDINATES_NOADDRESS":return 1;default:return 0}},Fn=function(e){switch(e){case"INVALID_POSTCODE":return Wn("Availability result: unknown post code"),"UNKNOWN_PO_CODE";case"IS_POSTBOX_PO_CODE":return Wn("Availability result: Postbox PO Code"),"POSTBOX_PO_CODE";case"LOCATION_NODELIVERY":return Wn("Availability result: Outside delivery area"),"OUTSIDE_DELIVERYAREA";case"COORDINATES_NOADDRESS":return Wn("Availability result: Coordinates not found"),"LOCATION_NOT_FOUND";default:return Wn("Other error"),"ERROR"}},jn=function(e,t){var n;if(void 0===t&&(t=null),Wn("Starting fetch"),e&&dt(e)?n={postalCode:e,country:"Norway"}:t&&(n={location:At({},t)}),!n)return Wn("Invalid postal code or position"),r.resolve({status:"ERROR",message:"Invalid postal code or position"});var i=Ye(),o=i.token,a=i.pickupWindows,s=i.view,l=""!==qe.apiBaseUrl?qe.apiBaseUrl:je.baseUrls[qe.apiMode],u=a;0===u.length&&(u=function(e,t){void 0===e&&(e=14),void 0===t&&(t=et());for(var n=t.startOf("day").add(11,"hour"),r=t.startOf("day").add(23,"hour"),i=[],o=0;o<e;o++)i.push({start:n.add(o,"day").toISOString(),end:r.add(o,"day").toISOString()});return i}());var c={pickupWindows:u,originAddress:{streetName:"Filipstadveien",streetNumber:"15",postalCode:"0250",city:"Oslo",country:"Norway"},destinationAddress:n,products:["delivery"],parcels:[{widthCm:1,heightCm:40,depthCm:1,weightGrams:2e3}],tokenGeneration:"availability"!==s};return Wn("before fetch"),An(l+"/availability",{method:"POST",headers:{"Content-Type":"application/json","x-public-token":o,"x-porterbuddy-version":"2"},credentials:"omit",body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(e){if(Array.isArray(e)&&e.length&&e[0].code){var t=e.reduce((function(e,t){return Hn(t.code)>Hn(e.code)?t:e}));if(t)return{status:Fn(t.code)}}return At({status:"SUCCESS"},e)})).catch((function(e){return Wn("Other error"),{status:"ERROR"}}))},Un=ae("pb:store:checkAvailability"),$n=function(e,t){return new r((function(n,r){var i=function(e,t){var n=Ye(),r=n.allowStorage,i=n.availabilityCacheTTL;if(r&&i&&i>0){var o=ne.getItem("cachedAvailabilityResult");if(o){var a=JSON.parse(o);if(et(a.cacheExpiresAt).isAfter(et())&&a.postalCode===e&&a.latLng===t)return Un("Using cached availability result"),a.availability}}}(e,t);i?n(i):jn(e,t).then((function(r){r instanceof Error||"ERROR"===r.status||function(e,t,n){var r=Ye(),i=r.allowStorage,o=r.availabilityCacheTTL;if(i&&o&&o>0){var a=et().add(o,"second");if("OUTSIDE_DELIVERYAREA"===e.status&&(a=et().add(30,"minute")),e.deliveryWindows&&e.deliveryWindows.length>0){var s=et(e.deliveryWindows[0].expiresAt);s.isBefore(a)&&(a=s)}var l={availability:e,cacheExpiresAt:a,postalCode:t,latLng:n};ne.setItem("cachedAvailabilityResult",JSON.stringify(l)),Un("Caching availability result")}}(r,e,t),n(r)})).catch((function(e){r(e)}))}))},zn=ae("pb:windowOptionsReady"),Vn=["fernerjacobsen.no"];function Bn(e,t,n,i){var o;return void 0===i&&(i=10),new r((function(r,a){var s=et();window.clearTimeout(o);var l=function(){if(window[e]&&t(window[e]))return window.clearTimeout(o),r(!0);window[e]?zn("window."+e+" defined, but not valid"):zn("window."+e+" not defined");var u=et().diff(s,"millisecond")/1e3;if(u<i)zn(u+" seconds elapsed, trying again in 500ms"),o=window.setTimeout((function(){return l()}),500);else{var c=window.location.hostname,d=n+": No valid options found before timeout";-1!==Vn.indexOf(c)?Rn(d):function(e){Pn(e,"warn")}(d),a(Error("No valid options found before timeout"))}};l()}))}var qn=ae("pb:refresh");function Yn(e,t){return et(e.start).isSame(et(t.start),"minute")&&et(e.end).isSame(et(t.end),"minute")&&e.product===t.product}var Qn=ae("pb:refreshTexts");var Xn,Gn=ae("pb:actions:toggleHelpInfo"),Zn=ae("pb:actions"),Kn={"@init":function(e){return function(){return{ready:!1}}},load:function(e){return function(){var t;return Zn("Waiting for window options"),(void 0===t&&(t=10),Bn("porterbuddy",Qe,"widget",t)).then((function(){return e.dispatch("reset")})).catch((function(e){return Zn(e)})),{ready:!1}}},reset:function(e){return function(){Ln("Reset state");var t=Xe(window.porterbuddy);if("availability"===t.view&&""===t.token.trim())return console.error("No token specified for product card widget, cannot initialize!"),null;var n=t.updateDeliveryWindowsInterval&&"number"==typeof t.updateDeliveryWindowsInterval?1e3*t.updateDeliveryWindowsInterval:null,i=t.availabilityResponse?t.availabilityResponse.deliveryWindows:t.deliveryWindows,o={deliveryDate:null,expiresAt:null,deliveryWindows:i};if(i&&i.length){var a=xt(i).last;o.expiresAt=a.expiresAt,o.deliveryDate=a.delivery}var s,l=At(At({},o),{allowGeoLocation:t.allowGeoLocation,availabilityFetchStatus:"REQUEST::INIT",availabilityHelpInfoVisible:!1,comment:t.initialComment,componentWidth:0,detectLocationStatus:t.postalCode?"REQUEST::SUCCESS":"REQUEST::INIT",isLoading:"checkout"===t.view&&(!i||0===i.length),latLng:null,leaveAtDoorstep:t.leaveAtDoorstepChecked,now:function(){var e=et(t.now);return e.isValid()?e:et()},updateDeliveryWindowsInterval:n,updateDeliveryWindowsIntervalId:null,postalCode:t.postalCode||t.allowStorage&&ne.getItem("postalCode")||"",ready:!0,selectedDeliveryWindow:null,selectedDeliveryWindowIndex:-1,showPostCodeForm:!1,view:t.view,discount:t.discount,showLogo:t.showLogo,updateDeliveryWindowsTimedOut:!1,updateDeliveryWindowsTimeoutId:null,textRefreshTimeouts:[],hidden:"availability"===t.view&&t.hideIfUnavailable,vars:{},language:t.language||ln()});s=t.view,setTimeout((function(){try{An(Mn+"/init?mode="+s,{method:"GET",headers:{Accept:"application/json; charset=utf-8"}})}catch(e){}}),0),l.updateDeliveryWindowsIntervalId&&window.clearInterval(l.updateDeliveryWindowsIntervalId),"availability"===l.view?window.setTimeout((function(){t.postalCode?(En(l.postalCode),e.dispatch("checkAvailability",{postalCode:l.postalCode})):Dn().then((function(t){null!==t&&"-1"!==t&&(l.postalCode=t),l.postalCode.length>0?(null!==t&&"-1"!==t||En(l.postalCode),e.dispatch("checkAvailability",{postalCode:l.postalCode})):e.dispatch("unHide",{})}),(function(t){Ln(t),l.postalCode.length>0?e.dispatch("checkAvailability",{postalCode:l.postalCode}):e.dispatch("unHide",{})}))}),100):t.postalCode&&(Ln(t.postalCode),e.dispatch("setPostalCode",t.postalCode)),Ye().onUpdateDeliveryWindows&&l.updateDeliveryWindowsInterval&&(l.updateDeliveryWindowsIntervalId=window.setInterval((function(){var t=Ye().onUpdateDeliveryWindows;t&&(e.dispatch("waitForDeliveryWindowRefresh",15e3),t((function(t){e.dispatch("updateDeliveryWindowsFromCallback",t),e.dispatch("isLoading",!1)}),void 0))}),l.updateDeliveryWindowsInterval)),"checkout"===l.view&&l.deliveryWindows&&l.deliveryWindows.length>0?t.initialSelectedWindow?window.setTimeout((function(){e.dispatch("selectMatchingDeliveryWindow",t.initialSelectedWindow)}),10):window.setTimeout((function(){e.dispatch("unhide",{})}),10):Ln("No delivery windows specified");var u=Ye().onSetCallbacks;return u&&u({forceRefresh:function(){return new r((function(t,n){return e.dispatch("refresh",(function(){return t()}))}))},unselectDeliveryWindow:function(){e.dispatch("selectDeliveryWindow",null)},setSelectedDeliveryWindow:function(t,n){!0!==n&&t?e.dispatch("selectMatchingDeliveryWindow",t):e.dispatch("selectDeliveryWindow",0)},updateDeliveryWindows:function(t){Ln("update delivery windows called"),e.dispatch("updateDeliveryWindowsFromCallback",t)}}),l.expiresAt&&window.setTimeout((function(){return e.dispatch("refreshTexts")}),500),l}},detectLocation:function(e){return function(t){var n=t.allowGeoLocation;if("REQUEST::PENDING"===t.detectLocationStatus)return dn("Already detecting location"),null;var i="";if(Ye().allowStorage){if(dt(i=ne.getItem("postalCode")||""))return dn("Using location from localstorage"),e.dispatch("detectLocationStatus","REQUEST::SUCCESS"),e.dispatch("checkAvailability",{postalCode:i}),null;i&&!dt(i)&&ne.removeItem("postalCode")}return n?(new r((function(e,t){var n=ae("pb:lib:detectLocation");navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){var r={latLng:{latitude:t.coords.latitude,longitude:t.coords.longitude}};n("Success",r),e(r)}),t):t(new Error("Geolocation not supported"))})).then((function(t){if(t instanceof Error)e.dispatch("detectLocationStatus","REQUEST::ERROR");else{var n=t.latLng;e.dispatch("detectLocationStatus","REQUEST::SUCCESS"),e.dispatch("checkAvailability",{latLng:n})}})).catch((function(e){return Error(e)})),null):(dn("Location detection disabled"),null)}},checkAvailability:function(e){return function(t,n){var r=n.postalCode,i=n.latLng,o=n.onFinish;return r&&!i||e.dispatch("toggleShowPostCodeForm",!0),"REQUEST::PENDING"===t.availabilityFetchStatus?(Un("Already checking availability"),null):(e.dispatch("availabilityFetchStatus","REQUEST::PENDING"),r!==t.postalCode&&e.dispatch("setPostalCode",r),$n(r,i).then((function(t){if(t instanceof Error)return Un("promise exception",t),e.dispatch("availabilityFetchStatus","REQUEST::ERROR"),null;if("POSTBOX_PO_CODE"===t.status)return Un("Postbox PO code"),e.dispatch("availabilityFetchStatus","REQUEST::POSTBOX_PO_CODE"),null;if("OUTSIDE_DELIVERYAREA"===t.status)return Un("Outside delivery area"),e.dispatch("availabilityFetchStatus","REQUEST::OUTSIDE_DELIVERY_AREA"),null;if("LOCATION_NOT_FOUND"===t.status)return Un("Location not found"),e.dispatch("availabilityFetchStatus","REQUEST::LOCATION_NOT_FOUND"),null;if("UNKNOWN_PO_CODE"===t.status)return Un("Unknown PO code"),e.dispatch("availabilityFetchStatus","REQUEST::UNKNOWN_PO_CODE"),null;if("SUCCESS"===t.status&&!t.deliveryWindows.length)return Un("No delivery windows"),e.dispatch("availabilityFetchStatus","REQUEST::DELIVERY_NOT_AVAILABLE"),null;if("SUCCESS"===t.status){var n=t.deliveryWindows,r=t.destinationResolvedAddress,i=et(n[0].expiresAt),a={deliveryDate:et(n[0].start),deliveryWindows:n,expiresAt:i,availabilityFetchStatus:"REQUEST::SUCCESS",postalCode:r.postalCode};return Un("Success"),e.dispatch("checkAvailabilitySuccess",a),"function"==typeof o&&o(),null}Un("Error"),e.dispatch("availabilityFetchStatus","REQUEST::ERROR")})).catch((function(e){return Error(e)})),null)}},refresh:function(e){return function(t,n){qn("Forced Refresh"),t.updateDeliveryWindowsIntervalId&&window.clearInterval(t.updateDeliveryWindowsIntervalId),t.updateDeliveryWindowsTimeoutId&&window.clearTimeout(t.updateDeliveryWindowsTimeoutId),t.textRefreshTimeouts&&t.textRefreshTimeouts.forEach((function(e){return window.clearTimeout(e)})),e.dispatch("reset");var r=Ye(),i=r.view,o=r.postalCode;return o&&"availability"===i?e.dispatch("checkAvailability",{postalCode:o,undefined:void 0,onFinish:n}):n(),null}},toggleDeliveryInfo:function(e){return function(e,t){return In("changing view in widget"),At(At({},e),{view:t})}},toggleHelpInfo:function(e){return function(e,t){return Gn("changing view in widget"),At(At({},e),{availabilityHelpInfoVisible:t})}},isLoading:function(e){return function(e,t){return{isLoading:t}}},setComponentWidth:function(e){return function(e,t){return{componentWidth:t}}},leaveAtDoorstep:function(e){return function(e,t){var n=Ye().onLeaveAtDoorstep;return n&&n(t),{leaveAtDoorstep:t}}},comment:function(e){return function(e,t){var n=Ye().onComment;return n&&n(t),{comment:t}}},updateDeliveryWindowsTimedOut:function(e){return function(e){return{isLoading:!1,updateDeliveryWindowsTimedOut:!0,updateDeliveryWindowsTimeoutId:null}}},waitForDeliveryWindowRefresh:function(e){return function(t,n){return{isLoading:!0,updateDeliveryWindowsTimedOut:!1,updateDeliveryWindowsTimeoutId:window.setTimeout((function(){console.warn("Waiting for updateDeliveryWindows callback timed out"),Rn("Waiting for updateDeliveryWindows callback timed out"),e.dispatch("updateDeliveryWindowsTimedOut")}),n)}}},updateDeliveryWindowsFromCallback:function(e){return function(t,n){if(t.updateDeliveryWindowsTimeoutId&&window.clearTimeout(t.updateDeliveryWindowsTimeoutId),void 0!==(o=n).deliveryWindows&&void 0!==o.destinationResolvedAddress){var r=n,i=r.deliveryWindows;i.every((function(e){return gn(e)}))?(Zn("Delivery windows are valid"),e.dispatch("updateDeliveryWindows",i)):Zn("Invalid delivery windows",r.deliveryWindows)}else Array.isArray(n)&&n.every((function(e){return gn(e)}))?(Zn("Delivery windows are valid"),e.dispatch("updateDeliveryWindows",n)):Zn("Invalid delivery windows",n);var o;return{updateDeliveryWindowsTimeoutId:null}}},updateDeliveryWindows:function(e){return function(e,t){var n;t.length>0&&(n=xt(t).last);var r=e.selectedDeliveryWindow,i=e.selectedDeliveryWindowIndex;if(r&&-1===(i=t.findIndex((function(e){return Yn(e,r)})))){r=null;var o=Ye().onSelectDeliveryWindow;o&&o(void 0)}return{deliveryWindows:t,expiresAt:null==n?void 0:n.expiresAt,deliveryDate:null==n?void 0:n.delivery,isLoading:!1,selectedDeliveryWindowIndex:i,selectedDeliveryWindow:r}}},selectDeliveryWindow:function(e){return function(e,t){var n=Ye().onSelectDeliveryWindow,r="number"==typeof t&&e.deliveryWindows&&e.deliveryWindows[t]?t:-1,i=r>-1&&e.deliveryWindows?e.deliveryWindows[r]:void 0;return n&&n(i),{selectedDeliveryWindow:i,selectedDeliveryWindowIndex:r}}},selectMatchingDeliveryWindow:function(e){return function(e,t){var n,r=Ye().onSelectDeliveryWindow,i=-1;if(t&&e.deliveryWindows)for(var o=0;-1===i&&o<e.deliveryWindows.length;){var a=e.deliveryWindows[o];Yn(a,t)&&(i=o,n=a),o+=1}return r&&r(n),{selectedDeliveryWindow:n,selectedDeliveryWindowIndex:i}}},toggleShowPostCodeForm:function(e){return function(e,t){return{showPostCodeForm:t}}},setPostalCode:function(e){return function(e,t){return Ye().allowStorage&&(ne.setItem("postalCode",t),En(t)),{postalCode:t}}},clearPostalCode:function(e){return function(){return Ye().allowStorage&&(ne.removeItem("postalCode"),Cn()),{availabilityFetchStatus:"REQUEST::INIT",postalCode:"",postalCodeIsValid:void 0,showPostCodeForm:!0}}},detectLocationStatus:function(e){return function(e,t){return{detectLocationStatus:t}}},availabilityFetchStatus:function(e){return function(e,t){return{availabilityFetchStatus:t}}},checkAvailabilitySuccess:function(e){return function(t,n){return n.expiresAt&&(t.textRefreshTimeouts.forEach((function(e){return window.clearTimeout(e)})),window.setTimeout((function(){return e.dispatch("refreshTexts")}),500)),At(At({},n),{hidden:!1})}},unHide:function(e){return function(e){return{hidden:!1}}},refreshTexts:function(e){return function(t){var n,r=[];if(t.textRefreshTimeouts.forEach((function(e){window.clearTimeout(e)})),t.expiresAt){var i=t.now(),o=t.expiresAt.diff(i,"minute");o>0&&o<480&&r.push(window.setTimeout((function(){return e.dispatch("refreshTexts")}),(n=i,o>5?1e3*(60-n.second())+100:1e3-n.millisecond()+50)))}return Qn("refreshing texts"),{textRefreshTimeouts:r}}}},Jn=function(e,t,n,r,i){var o=e?"_"+e:"",a={};return a["price"+o]=Zt(t,n),a["countdown"+o]=It(i,et(t.expiresAt)),a["delivery"+o]=Lt(et(t.start),i),Object.keys(r).forEach((function(e){a["price"+o+"_"+e]=Zt(t,r[e])})),a},er=function(e){var t=function(e){var t=e.deliveryWindows,n=e.discount,r=Ye().additionalDiscounts;if(t&&t.length>0){var i=St(t),o=Kt(i),a=Kt(t);return At(At(At(At({},Jn("first",i[0],n,r,e.now())),Jn("",i[i.length-1],n,r,e.now())),Jn("lowest_price",o,n,r,e.now())),Jn("lowest_overall",a,n,r,e.now()))}return{}}(e),n=Ye().text;return At(At({remaining:e.expiresAt?It(e.now(),e.expiresAt):"",location:"",postcode:e.postalCode},t),{selected_price:e.selectedDeliveryWindow?Zt(e.selectedDeliveryWindow,e.discount):n.from+" "+t.price_lowest_overall})},tr=ae("pb:store"),nr=[];function rr(){nr.forEach((function(e){var t=[].slice.call(document.querySelectorAll(e.selector));t.forEach((function(n,r){n.dataset.ready||(t[r].dataset.ready="true",e.fn.call(n,n))}))}))}var ir=function(){return x("iframe",{title:"storageWidget",id:"pbStorageFrame",style:{height:0,width:0,display:"none"},src:je.widgetHost+"/widgetframe.html",onLoad:function(){return On()}})};!function(){var e={},t={};!function(e,t){function n(){this._delay=0,this._endDelay=0,this._fill="none",this._iterationStart=0,this._iterations=1,this._duration=0,this._playbackRate=1,this._direction="normal",this._easing="linear",this._easingFunction=f}function r(){return e.isDeprecated("Invalid timing inputs","2016-03-02","TypeError exceptions will be thrown instead.",!0)}function i(t,r,i){var o=new n;return r&&(o.fill="both",o.duration="auto"),"number"!=typeof t||isNaN(t)?void 0!==t&&Object.getOwnPropertyNames(t).forEach((function(n){if("auto"!=t[n]){if(("number"==typeof o[n]||"duration"==n)&&("number"!=typeof t[n]||isNaN(t[n])))return;if("fill"==n&&-1==c.indexOf(t[n]))return;if("direction"==n&&-1==d.indexOf(t[n]))return;if("playbackRate"==n&&1!==t[n]&&e.isDeprecated("AnimationEffectTiming.playbackRate","2014-11-28","Use Animation.playbackRate instead."))return;o[n]=t[n]}})):o.duration=t,o}function o(e,t,n,r){return e<0||e>1||n<0||n>1?f:function(i){function o(e,t,n){return 3*e*(1-n)*(1-n)*n+3*t*(1-n)*n*n+n*n*n}if(i<=0){var a=0;return e>0?a=t/e:!t&&n>0&&(a=r/n),a*i}if(i>=1){var s=0;return n<1?s=(r-1)/(n-1):1==n&&e<1&&(s=(t-1)/(e-1)),1+s*(i-1)}for(var l=0,u=1;l<u;){var c=(l+u)/2,d=o(e,n,c);if(Math.abs(i-d)<1e-5)return o(t,r,c);d<i?l=c:u=c}return o(t,r,c)}}function a(e,t){return function(n){if(n>=1)return 1;var r=1/e;return(n+=t*r)-n%r}}function s(e){g||(g=document.createElement("div").style),g.animationTimingFunction="",g.animationTimingFunction=e;var t=g.animationTimingFunction;if(""==t&&r())throw new TypeError(e+" is not a valid value for easing");return t}function l(e){if("linear"==e)return f;var t=_.exec(e);if(t)return o.apply(this,t.slice(1).map(Number));var n=b.exec(e);if(n)return a(Number(n[1]),v);var r=w.exec(e);return r?a(Number(r[1]),{start:h,middle:p,end:v}[r[2]]):m[e]||f}function u(e,t,n){if(null==t)return S;var r=n.delay+e+n.endDelay;return t<Math.min(n.delay,r)?x:t>=Math.min(n.delay+e,r)?T:k}var c="backwards|forwards|both|none".split("|"),d="reverse|alternate|alternate-reverse".split("|"),f=function(e){return e};n.prototype={_setMember:function(t,n){this["_"+t]=n,this._effect&&(this._effect._timingInput[t]=n,this._effect._timing=e.normalizeTimingInput(this._effect._timingInput),this._effect.activeDuration=e.calculateActiveDuration(this._effect._timing),this._effect._animation&&this._effect._animation._rebuildUnderlyingAnimation())},get playbackRate(){return this._playbackRate},set delay(e){this._setMember("delay",e)},get delay(){return this._delay},set endDelay(e){this._setMember("endDelay",e)},get endDelay(){return this._endDelay},set fill(e){this._setMember("fill",e)},get fill(){return this._fill},set iterationStart(e){if((isNaN(e)||e<0)&&r())throw new TypeError("iterationStart must be a non-negative number, received: "+e);this._setMember("iterationStart",e)},get iterationStart(){return this._iterationStart},set duration(e){if("auto"!=e&&(isNaN(e)||e<0)&&r())throw new TypeError("duration must be non-negative or auto, received: "+e);this._setMember("duration",e)},get duration(){return this._duration},set direction(e){this._setMember("direction",e)},get direction(){return this._direction},set easing(e){this._easingFunction=l(s(e)),this._setMember("easing",e)},get easing(){return this._easing},set iterations(e){if((isNaN(e)||e<0)&&r())throw new TypeError("iterations must be non-negative, received: "+e);this._setMember("iterations",e)},get iterations(){return this._iterations}};var h=1,p=.5,v=0,m={ease:o(.25,.1,.25,1),"ease-in":o(.42,0,1,1),"ease-out":o(0,0,.58,1),"ease-in-out":o(.42,0,.58,1),"step-start":a(1,h),"step-middle":a(1,p),"step-end":a(1,v)},g=null,y="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",_=new RegExp("cubic-bezier\\("+y+","+y+","+y+","+y+"\\)"),b=/steps\(\s*(\d+)\s*\)/,w=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/,S=0,x=1,T=2,k=3;e.cloneTimingInput=function(e){if("number"==typeof e)return e;var t={};for(var n in e)t[n]=e[n];return t},e.makeTiming=i,e.numericTimingToObject=function(e){return"number"==typeof e&&(e=isNaN(e)?{duration:0}:{duration:e}),e},e.normalizeTimingInput=function(t,n){return i(t=e.numericTimingToObject(t),n)},e.calculateActiveDuration=function(e){return Math.abs(function(e){return 0===e.duration||0===e.iterations?0:e.duration*e.iterations}(e)/e.playbackRate)},e.calculateIterationProgress=function(e,t,n){var r=u(e,t,n),i=function(e,t,n,r,i){switch(r){case x:return"backwards"==t||"both"==t?0:null;case k:return n-i;case T:return"forwards"==t||"both"==t?e:null;case S:return null}}(e,n.fill,t,r,n.delay);if(null===i)return null;var o=function(e,t,n,r,i){var o=i;return 0===e?t!==x&&(o+=n):o+=r/e,o}(n.duration,r,n.iterations,i,n.iterationStart),a=function(e,t,n,r,i,o){var a=e===1/0?t%1:e%1;return 0!==a||n!==T||0===r||0===i&&0!==o||(a=1),a}(o,n.iterationStart,r,n.iterations,i,n.duration),s=function(e,t,n,r){return e===T&&t===1/0?1/0:1===n?Math.floor(r)-1:Math.floor(r)}(r,n.iterations,a,o),l=function(e,t,n){var r=e;if("normal"!==e&&"reverse"!==e){var i=t;"alternate-reverse"===e&&(i+=1),r="normal",i!==1/0&&i%2!=0&&(r="reverse")}return"normal"===r?n:1-n}(n.direction,s,a);return n._easingFunction(l)},e.calculatePhase=u,e.normalizeEasing=s,e.parseEasingFunction=l}(e),function(e,t){function n(e,t){return e in l&&l[e][t]||t}function r(e,t,r){if(!function(e){return"display"===e||0===e.lastIndexOf("animation",0)||0===e.lastIndexOf("transition",0)}(e)){var i=o[e];if(i)for(var s in a.style[e]=t,i){var l=i[s],u=a.style[l];r[l]=n(l,u)}else r[e]=n(e,t)}}function i(e){var t=[];for(var n in e)if(!(n in["easing","offset","composite"])){var r=e[n];Array.isArray(r)||(r=[r]);for(var i,o=r.length,a=0;a<o;a++)(i={}).offset="offset"in e?e.offset:1==o?1:a/(o-1),"easing"in e&&(i.easing=e.easing),"composite"in e&&(i.composite=e.composite),i[n]=r[a],t.push(i)}return t.sort((function(e,t){return e.offset-t.offset})),t}var o={background:["backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","backgroundAttachment","backgroundOrigin","backgroundClip","backgroundColor"],border:["borderTopColor","borderTopStyle","borderTopWidth","borderRightColor","borderRightStyle","borderRightWidth","borderBottomColor","borderBottomStyle","borderBottomWidth","borderLeftColor","borderLeftStyle","borderLeftWidth"],borderBottom:["borderBottomWidth","borderBottomStyle","borderBottomColor"],borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderLeft:["borderLeftWidth","borderLeftStyle","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderRight:["borderRightWidth","borderRightStyle","borderRightColor"],borderTop:["borderTopWidth","borderTopStyle","borderTopColor"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],flex:["flexGrow","flexShrink","flexBasis"],font:["fontFamily","fontSize","fontStyle","fontVariant","fontWeight","lineHeight"],margin:["marginTop","marginRight","marginBottom","marginLeft"],outline:["outlineColor","outlineStyle","outlineWidth"],padding:["paddingTop","paddingRight","paddingBottom","paddingLeft"]},a=document.createElementNS("http://www.w3.org/1999/xhtml","div"),s={thin:"1px",medium:"3px",thick:"5px"},l={borderBottomWidth:s,borderLeftWidth:s,borderRightWidth:s,borderTopWidth:s,fontSize:{"xx-small":"60%","x-small":"75%",small:"89%",medium:"100%",large:"120%","x-large":"150%","xx-large":"200%"},fontWeight:{normal:"400",bold:"700"},outlineWidth:s,textShadow:{none:"0px 0px 0px transparent"},boxShadow:{none:"0px 0px 0px 0px transparent"}};e.convertToArrayForm=i,e.normalizeKeyframes=function(t){if(null==t)return[];window.Symbol&&Symbol.iterator&&Array.prototype.from&&t[Symbol.iterator]&&(t=Array.from(t)),Array.isArray(t)||(t=i(t));for(var n=t.map((function(t){var n={};for(var i in t){var o=t[i];if("offset"==i){if(null!=o){if(o=Number(o),!isFinite(o))throw new TypeError("Keyframe offsets must be numbers.");if(o<0||o>1)throw new TypeError("Keyframe offsets must be between 0 and 1.")}}else if("composite"==i){if("add"==o||"accumulate"==o)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"add compositing is not supported"};if("replace"!=o)throw new TypeError("Invalid composite mode "+o+".")}else o="easing"==i?e.normalizeEasing(o):""+o;r(i,o,n)}return null==n.offset&&(n.offset=null),null==n.easing&&(n.easing="linear"),n})),o=!0,a=-1/0,s=0;s<n.length;s++){var l=n[s].offset;if(null!=l){if(l<a)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");a=l}else o=!1}return n=n.filter((function(e){return e.offset>=0&&e.offset<=1})),o||function(){var e=n.length;null==n[e-1].offset&&(n[e-1].offset=1),e>1&&null==n[0].offset&&(n[0].offset=0);for(var t=0,r=n[0].offset,i=1;i<e;i++){var o=n[i].offset;if(null!=o){for(var a=1;a<i-t;a++)n[t+a].offset=r+(o-r)*a/(i-t);t=i,r=o}}}(),n}}(e),function(e){var t={};e.isDeprecated=function(e,n,r,i){var o=i?"are":"is",a=new Date,s=new Date(n);return s.setMonth(s.getMonth()+3),!(a<s&&(e in t||console.warn("Web Animations: "+e+" "+o+" deprecated and will stop working on "+s.toDateString()+". "+r),t[e]=!0,1))},e.deprecated=function(t,n,r,i){var o=i?"are":"is";if(e.isDeprecated(t,n,r,i))throw new Error(t+" "+o+" no longer supported. "+r)}}(e),function(){if(document.documentElement.animate){var n=document.documentElement.animate([],0),r=!0;if(n&&(r=!1,"play|currentTime|pause|reverse|playbackRate|cancel|finish|startTime|playState".split("|").forEach((function(e){void 0===n[e]&&(r=!0)}))),!r)return}!function(e,t,n){t.convertEffectInput=function(n){var r=function(e){for(var t={},n=0;n<e.length;n++)for(var r in e[n])if("offset"!=r&&"easing"!=r&&"composite"!=r){var i={offset:e[n].offset,easing:e[n].easing,value:e[n][r]};t[r]=t[r]||[],t[r].push(i)}for(var o in t){var a=t[o];if(0!=a[0].offset||1!=a[a.length-1].offset)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"Partial keyframes are not supported"}}return t}(e.normalizeKeyframes(n)),i=function(n){var r=[];for(var i in n)for(var o=n[i],a=0;a<o.length-1;a++){var s=a,l=a+1,u=o[s].offset,c=o[l].offset,d=u,f=c;0==a&&(d=-1/0,0==c&&(l=s)),a==o.length-2&&(f=1/0,1==u&&(s=l)),r.push({applyFrom:d,applyTo:f,startOffset:o[s].offset,endOffset:o[l].offset,easingFunction:e.parseEasingFunction(o[s].easing),property:i,interpolation:t.propertyInterpolation(i,o[s].value,o[l].value)})}return r.sort((function(e,t){return e.startOffset-t.startOffset})),r}(r);return function(e,n){if(null!=n)i.filter((function(e){return n>=e.applyFrom&&n<e.applyTo})).forEach((function(r){var i=n-r.startOffset,o=r.endOffset-r.startOffset,a=0==o?0:r.easingFunction(i/o);t.apply(e,r.property,r.interpolation(a))}));else for(var o in r)"offset"!=o&&"easing"!=o&&"composite"!=o&&t.clear(e,o)}}}(e,t),function(e,t,n){function r(e){return e.replace(/-(.)/g,(function(e,t){return t.toUpperCase()}))}function i(e,t,n){o[n]=o[n]||[],o[n].push([e,t])}var o={};t.addPropertiesHandler=function(e,t,n){for(var o=0;o<n.length;o++)i(e,t,r(n[o]))};var a={backgroundColor:"transparent",backgroundPosition:"0% 0%",borderBottomColor:"currentColor",borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px",borderBottomWidth:"3px",borderLeftColor:"currentColor",borderLeftWidth:"3px",borderRightColor:"currentColor",borderRightWidth:"3px",borderSpacing:"2px",borderTopColor:"currentColor",borderTopLeftRadius:"0px",borderTopRightRadius:"0px",borderTopWidth:"3px",bottom:"auto",clip:"rect(0px, 0px, 0px, 0px)",color:"black",fontSize:"100%",fontWeight:"400",height:"auto",left:"auto",letterSpacing:"normal",lineHeight:"120%",marginBottom:"0px",marginLeft:"0px",marginRight:"0px",marginTop:"0px",maxHeight:"none",maxWidth:"none",minHeight:"0px",minWidth:"0px",opacity:"1.0",outlineColor:"invert",outlineOffset:"0px",outlineWidth:"3px",paddingBottom:"0px",paddingLeft:"0px",paddingRight:"0px",paddingTop:"0px",right:"auto",strokeDasharray:"none",strokeDashoffset:"0px",textIndent:"0px",textShadow:"0px 0px 0px transparent",top:"auto",transform:"",verticalAlign:"0px",visibility:"visible",width:"auto",wordSpacing:"normal",zIndex:"auto"};t.propertyInterpolation=function(n,i,s){var l=n;/-/.test(n)&&!e.isDeprecated("Hyphenated property names","2016-03-22","Use camelCase instead.",!0)&&(l=r(n)),"initial"!=i&&"initial"!=s||("initial"==i&&(i=a[l]),"initial"==s&&(s=a[l]));for(var u=i==s?[]:o[l],c=0;u&&c<u.length;c++){var d=u[c][0](i),f=u[c][0](s);if(void 0!==d&&void 0!==f){var h=u[c][1](d,f);if(h){var p=t.Interpolation.apply(null,h);return function(e){return 0==e?i:1==e?s:p(e)}}}}return t.Interpolation(!1,!0,(function(e){return e?s:i}))}}(e,t),function(e,t,n){t.KeyframeEffect=function(n,r,i,o){var a,s=function(t){var n=e.calculateActiveDuration(t),r=function(r){return e.calculateIterationProgress(n,r,t)};return r._totalDuration=t.delay+n+t.endDelay,r}(e.normalizeTimingInput(i)),l=t.convertEffectInput(r),u=function(){l(n,a)};return u._update=function(e){return null!==(a=s(e))},u._clear=function(){l(n,null)},u._hasSameTarget=function(e){return n===e},u._target=n,u._totalDuration=s._totalDuration,u._id=o,u}}(e,t),function(e,t){function n(e,t,n){n.enumerable=!0,n.configurable=!0,Object.defineProperty(e,t,n)}function r(e){this._element=e,this._surrogateStyle=document.createElementNS("http://www.w3.org/1999/xhtml","div").style,this._style=e.style,this._length=0,this._isAnimatedProperty={},this._updateSvgTransformAttr=function(e,t){return!(!t.namespaceURI||-1==t.namespaceURI.indexOf("/svg"))&&(o in e||(e[o]=/Trident|MSIE|IEMobile|Edge|Android 4/i.test(e.navigator.userAgent)),e[o])}(window,e),this._savedTransformAttr=null;for(var t=0;t<this._style.length;t++){var n=this._style[t];this._surrogateStyle[n]=this._style[n]}this._updateIndices()}function i(e){if(!e._webAnimationsPatchedStyle){var t=new r(e);try{n(e,"style",{get:function(){return t}})}catch(t){e.style._set=function(t,n){e.style[t]=n},e.style._clear=function(t){e.style[t]=""}}e._webAnimationsPatchedStyle=e.style}}var o="_webAnimationsUpdateSvgTransformAttr",a={cssText:1,length:1,parentRule:1},s={getPropertyCSSValue:1,getPropertyPriority:1,getPropertyValue:1,item:1,removeProperty:1,setProperty:1},l={removeProperty:1,setProperty:1};for(var u in r.prototype={get cssText(){return this._surrogateStyle.cssText},set cssText(e){for(var t={},n=0;n<this._surrogateStyle.length;n++)t[this._surrogateStyle[n]]=!0;this._surrogateStyle.cssText=e,this._updateIndices();for(n=0;n<this._surrogateStyle.length;n++)t[this._surrogateStyle[n]]=!0;for(var r in t)this._isAnimatedProperty[r]||this._style.setProperty(r,this._surrogateStyle.getPropertyValue(r))},get length(){return this._surrogateStyle.length},get parentRule(){return this._style.parentRule},_updateIndices:function(){for(;this._length<this._surrogateStyle.length;)Object.defineProperty(this,this._length,{configurable:!0,enumerable:!1,get:function(e){return function(){return this._surrogateStyle[e]}}(this._length)}),this._length++;for(;this._length>this._surrogateStyle.length;)this._length--,Object.defineProperty(this,this._length,{configurable:!0,enumerable:!1,value:void 0})},_set:function(t,n){this._style[t]=n,this._isAnimatedProperty[t]=!0,this._updateSvgTransformAttr&&"transform"==e.unprefixedPropertyName(t)&&(null==this._savedTransformAttr&&(this._savedTransformAttr=this._element.getAttribute("transform")),this._element.setAttribute("transform",e.transformToSvgMatrix(n)))},_clear:function(t){this._style[t]=this._surrogateStyle[t],this._updateSvgTransformAttr&&"transform"==e.unprefixedPropertyName(t)&&(this._savedTransformAttr?this._element.setAttribute("transform",this._savedTransformAttr):this._element.removeAttribute("transform"),this._savedTransformAttr=null),delete this._isAnimatedProperty[t]}},s)r.prototype[u]=function(e,t){return function(){var n=this._surrogateStyle[e].apply(this._surrogateStyle,arguments);return t&&(this._isAnimatedProperty[arguments[0]]||this._style[e].apply(this._style,arguments),this._updateIndices()),n}}(u,u in l);for(var c in document.documentElement.style)c in a||c in s||function(e){n(r.prototype,e,{get:function(){return this._surrogateStyle[e]},set:function(t){this._surrogateStyle[e]=t,this._updateIndices(),this._isAnimatedProperty[e]||(this._style[e]=t)}})}(c);e.apply=function(t,n,r){i(t),t.style._set(e.propertyName(n),r)},e.clear=function(t,n){t._webAnimationsPatchedStyle&&t.style._clear(e.propertyName(n))}}(t),function(e){window.Element.prototype.animate=function(t,n){var r="";return n&&n.id&&(r=n.id),e.timeline._play(e.KeyframeEffect(this,t,n,r))}}(t),function(e,t){e.Interpolation=function(e,t,n){return function(r){return n(function e(t,n,r){if("number"==typeof t&&"number"==typeof n)return t*(1-r)+n*r;if("boolean"==typeof t&&"boolean"==typeof n)return r<.5?t:n;if(t.length==n.length){for(var i=[],o=0;o<t.length;o++)i.push(e(t[o],n[o],r));return i}throw"Mismatched interpolation arguments "+t+":"+n}(e,t,r))}}}(t),function(e,t){var n=function(){function e(e,t){for(var n=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],r=0;r<4;r++)for(var i=0;i<4;i++)for(var o=0;o<4;o++)n[r][i]+=t[r][o]*e[o][i];return n}return function(t,n,r,i,o){for(var a=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],s=0;s<4;s++)a[s][3]=o[s];for(s=0;s<3;s++)for(var l=0;l<3;l++)a[3][s]+=t[l]*a[l][s];var u=i[0],c=i[1],d=i[2],f=i[3],h=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];h[0][0]=1-2*(c*c+d*d),h[0][1]=2*(u*c-d*f),h[0][2]=2*(u*d+c*f),h[1][0]=2*(u*c+d*f),h[1][1]=1-2*(u*u+d*d),h[1][2]=2*(c*d-u*f),h[2][0]=2*(u*d-c*f),h[2][1]=2*(c*d+u*f),h[2][2]=1-2*(u*u+c*c),a=e(a,h);var p=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];for(r[2]&&(p[2][1]=r[2],a=e(a,p)),r[1]&&(p[2][1]=0,p[2][0]=r[0],a=e(a,p)),r[0]&&(p[2][0]=0,p[1][0]=r[0],a=e(a,p)),s=0;s<3;s++)for(l=0;l<3;l++)a[s][l]*=n[s];return function(e){return 0==e[0][2]&&0==e[0][3]&&0==e[1][2]&&0==e[1][3]&&0==e[2][0]&&0==e[2][1]&&1==e[2][2]&&0==e[2][3]&&0==e[3][2]&&1==e[3][3]}(a)?[a[0][0],a[0][1],a[1][0],a[1][1],a[3][0],a[3][1]]:a[0].concat(a[1],a[2],a[3])}}();e.composeMatrix=n,e.quat=function(t,n,r){var i=e.dot(t,n),o=[];if(1===(i=function(e,t,n){return Math.max(Math.min(e,n),t)}(i,-1,1)))o=t;else for(var a=Math.acos(i),s=1*Math.sin(r*a)/Math.sqrt(1-i*i),l=0;l<4;l++)o.push(t[l]*(Math.cos(r*a)-i*s)+n[l]*s);return o}}(t),function(e,t,n){e.sequenceNumber=0;var r=function(e,t,n){this.target=e,this.currentTime=t,this.timelineTime=n,this.type="finish",this.bubbles=!1,this.cancelable=!1,this.currentTarget=e,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()};t.Animation=function(t){this.id="",t&&t._id&&(this.id=t._id),this._sequenceNumber=e.sequenceNumber++,this._currentTime=0,this._startTime=null,this._paused=!1,this._playbackRate=1,this._inTimeline=!0,this._finishedFlag=!0,this.onfinish=null,this._finishHandlers=[],this._effect=t,this._inEffect=this._effect._update(0),this._idle=!0,this._currentTimePending=!1},t.Animation.prototype={_ensureAlive:function(){this.playbackRate<0&&0===this.currentTime?this._inEffect=this._effect._update(-1):this._inEffect=this._effect._update(this.currentTime),this._inTimeline||!this._inEffect&&this._finishedFlag||(this._inTimeline=!0,t.timeline._animations.push(this))},_tickCurrentTime:function(e,t){e!=this._currentTime&&(this._currentTime=e,this._isFinished&&!t&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this._ensureAlive())},get currentTime(){return this._idle||this._currentTimePending?null:this._currentTime},set currentTime(e){e=+e,isNaN(e)||(t.restart(),this._paused||null==this._startTime||(this._startTime=this._timeline.currentTime-e/this._playbackRate),this._currentTimePending=!1,this._currentTime!=e&&(this._idle&&(this._idle=!1,this._paused=!0),this._tickCurrentTime(e,!0),t.applyDirtiedAnimation(this)))},get startTime(){return this._startTime},set startTime(e){e=+e,isNaN(e)||this._paused||this._idle||(this._startTime=e,this._tickCurrentTime((this._timeline.currentTime-this._startTime)*this.playbackRate),t.applyDirtiedAnimation(this))},get playbackRate(){return this._playbackRate},set playbackRate(e){if(e!=this._playbackRate){var n=this.currentTime;this._playbackRate=e,this._startTime=null,"paused"!=this.playState&&"idle"!=this.playState&&(this._finishedFlag=!1,this._idle=!1,this._ensureAlive(),t.applyDirtiedAnimation(this)),null!=n&&(this.currentTime=n)}},get _isFinished(){return!this._idle&&(this._playbackRate>0&&this._currentTime>=this._totalDuration||this._playbackRate<0&&this._currentTime<=0)},get _totalDuration(){return this._effect._totalDuration},get playState(){return this._idle?"idle":null==this._startTime&&!this._paused&&0!=this.playbackRate||this._currentTimePending?"pending":this._paused?"paused":this._isFinished?"finished":"running"},_rewind:function(){if(this._playbackRate>=0)this._currentTime=0;else{if(!(this._totalDuration<1/0))throw new DOMException("Unable to rewind negative playback rate animation with infinite duration","InvalidStateError");this._currentTime=this._totalDuration}},play:function(){this._paused=!1,(this._isFinished||this._idle)&&(this._rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this._ensureAlive(),t.applyDirtiedAnimation(this)},pause:function(){this._isFinished||this._paused||this._idle?this._idle&&(this._rewind(),this._idle=!1):this._currentTimePending=!0,this._startTime=null,this._paused=!0},finish:function(){this._idle||(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this._currentTimePending=!1,t.applyDirtiedAnimation(this))},cancel:function(){this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this._effect._update(null),t.applyDirtiedAnimation(this))},reverse:function(){this.playbackRate*=-1,this.play()},addEventListener:function(e,t){"function"==typeof t&&"finish"==e&&this._finishHandlers.push(t)},removeEventListener:function(e,t){if("finish"==e){var n=this._finishHandlers.indexOf(t);n>=0&&this._finishHandlers.splice(n,1)}},_fireEvents:function(e){if(this._isFinished){if(!this._finishedFlag){var t=new r(this,this._currentTime,e),n=this._finishHandlers.concat(this.onfinish?[this.onfinish]:[]);setTimeout((function(){n.forEach((function(e){e.call(t.target,t)}))}),0),this._finishedFlag=!0}}else this._finishedFlag=!1},_tick:function(e,t){this._idle||this._paused||(null==this._startTime?t&&(this.startTime=e-this._currentTime/this.playbackRate):this._isFinished||this._tickCurrentTime((e-this._startTime)*this.playbackRate)),t&&(this._currentTimePending=!1,this._fireEvents(e))},get _needsTick(){return this.playState in{pending:1,running:1}||!this._finishedFlag},_targetAnimations:function(){var e=this._effect._target;return e._activeAnimations||(e._activeAnimations=[]),e._activeAnimations},_markTarget:function(){var e=this._targetAnimations();-1===e.indexOf(this)&&e.push(this)},_unmarkTarget:function(){var e=this._targetAnimations(),t=e.indexOf(this);-1!==t&&e.splice(t,1)}}}(e,t),function(e,t,n){function r(e){var t=u;u=[],e<v.currentTime&&(e=v.currentTime),v._animations.sort(i),v._animations=s(e,!0,v._animations)[0],t.forEach((function(t){t[1](e)})),a(),void 0}function i(e,t){return e._sequenceNumber-t._sequenceNumber}function o(){this._animations=[],this.currentTime=window.performance&&performance.now?performance.now():0}function a(){h.forEach((function(e){e()})),h.length=0}function s(e,n,r){p=!0,f=!1,t.timeline.currentTime=e,d=!1;var i=[],o=[],a=[],s=[];return r.forEach((function(t){t._tick(e,n),t._inEffect?(o.push(t._effect),t._markTarget()):(i.push(t._effect),t._unmarkTarget()),t._needsTick&&(d=!0);var r=t._inEffect||t._needsTick;t._inTimeline=r,r?a.push(t):s.push(t)})),h.push.apply(h,i),h.push.apply(h,o),d&&requestAnimationFrame((function(){})),p=!1,[a,s]}var l=window.requestAnimationFrame,u=[],c=0;window.requestAnimationFrame=function(e){var t=c++;return 0==u.length&&l(r),u.push([t,e]),t},window.cancelAnimationFrame=function(e){u.forEach((function(t){t[0]==e&&(t[1]=function(){})}))},o.prototype={_play:function(n){n._timing=e.normalizeTimingInput(n.timing);var r=new t.Animation(n);return r._idle=!1,r._timeline=this,this._animations.push(r),t.restart(),t.applyDirtiedAnimation(r),r}};var d=!1,f=!1;t.restart=function(){return d||(d=!0,requestAnimationFrame((function(){})),f=!0),f},t.applyDirtiedAnimation=function(e){if(!p){e._markTarget();var n=e._targetAnimations();n.sort(i),s(t.timeline.currentTime,!1,n.slice())[1].forEach((function(e){var t=v._animations.indexOf(e);-1!==t&&v._animations.splice(t,1)})),a()}};var h=[],p=!1,v=new o;t.timeline=v}(e,t),function(e,t){function n(e,t){for(var n=0,r=0;r<e.length;r++)n+=e[r]*t[r];return n}function r(e,t){return[e[0]*t[0]+e[4]*t[1]+e[8]*t[2]+e[12]*t[3],e[1]*t[0]+e[5]*t[1]+e[9]*t[2]+e[13]*t[3],e[2]*t[0]+e[6]*t[1]+e[10]*t[2]+e[14]*t[3],e[3]*t[0]+e[7]*t[1]+e[11]*t[2]+e[15]*t[3],e[0]*t[4]+e[4]*t[5]+e[8]*t[6]+e[12]*t[7],e[1]*t[4]+e[5]*t[5]+e[9]*t[6]+e[13]*t[7],e[2]*t[4]+e[6]*t[5]+e[10]*t[6]+e[14]*t[7],e[3]*t[4]+e[7]*t[5]+e[11]*t[6]+e[15]*t[7],e[0]*t[8]+e[4]*t[9]+e[8]*t[10]+e[12]*t[11],e[1]*t[8]+e[5]*t[9]+e[9]*t[10]+e[13]*t[11],e[2]*t[8]+e[6]*t[9]+e[10]*t[10]+e[14]*t[11],e[3]*t[8]+e[7]*t[9]+e[11]*t[10]+e[15]*t[11],e[0]*t[12]+e[4]*t[13]+e[8]*t[14]+e[12]*t[15],e[1]*t[12]+e[5]*t[13]+e[9]*t[14]+e[13]*t[15],e[2]*t[12]+e[6]*t[13]+e[10]*t[14]+e[14]*t[15],e[3]*t[12]+e[7]*t[13]+e[11]*t[14]+e[15]*t[15]]}function i(e){var t=e.rad||0;return((e.deg||0)/360+(e.grad||0)/400+(e.turn||0))*(2*Math.PI)+t}function o(e){switch(e.t){case"rotatex":var t=i(e.d[0]);return[1,0,0,0,0,Math.cos(t),Math.sin(t),0,0,-Math.sin(t),Math.cos(t),0,0,0,0,1];case"rotatey":t=i(e.d[0]);return[Math.cos(t),0,-Math.sin(t),0,0,1,0,0,Math.sin(t),0,Math.cos(t),0,0,0,0,1];case"rotate":case"rotatez":t=i(e.d[0]);return[Math.cos(t),Math.sin(t),0,0,-Math.sin(t),Math.cos(t),0,0,0,0,1,0,0,0,0,1];case"rotate3d":var n=e.d[0],r=e.d[1],o=e.d[2],a=(t=i(e.d[3]),n*n+r*r+o*o);if(0===a)n=1,r=0,o=0;else if(1!==a){var s=Math.sqrt(a);n/=s,r/=s,o/=s}var l=Math.sin(t/2),u=l*Math.cos(t/2),c=l*l;return[1-2*(r*r+o*o)*c,2*(n*r*c+o*u),2*(n*o*c-r*u),0,2*(n*r*c-o*u),1-2*(n*n+o*o)*c,2*(r*o*c+n*u),0,2*(n*o*c+r*u),2*(r*o*c-n*u),1-2*(n*n+r*r)*c,0,0,0,0,1];case"scale":return[e.d[0],0,0,0,0,e.d[1],0,0,0,0,1,0,0,0,0,1];case"scalex":return[e.d[0],0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaley":return[1,0,0,0,0,e.d[0],0,0,0,0,1,0,0,0,0,1];case"scalez":return[1,0,0,0,0,1,0,0,0,0,e.d[0],0,0,0,0,1];case"scale3d":return[e.d[0],0,0,0,0,e.d[1],0,0,0,0,e.d[2],0,0,0,0,1];case"skew":var d=i(e.d[0]),f=i(e.d[1]);return[1,Math.tan(f),0,0,Math.tan(d),1,0,0,0,0,1,0,0,0,0,1];case"skewx":t=i(e.d[0]);return[1,0,0,0,Math.tan(t),1,0,0,0,0,1,0,0,0,0,1];case"skewy":t=i(e.d[0]);return[1,Math.tan(t),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":return[1,0,0,0,0,1,0,0,0,0,1,0,n=e.d[0].px||0,r=e.d[1].px||0,0,1];case"translatex":return[1,0,0,0,0,1,0,0,0,0,1,0,n=e.d[0].px||0,0,0,1];case"translatey":return[1,0,0,0,0,1,0,0,0,0,1,0,0,r=e.d[0].px||0,0,1];case"translatez":return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,o=e.d[0].px||0,1];case"translate3d":return[1,0,0,0,0,1,0,0,0,0,1,0,n=e.d[0].px||0,r=e.d[1].px||0,o=e.d[2].px||0,1];case"perspective":return[1,0,0,0,0,1,0,0,0,0,1,e.d[0].px?-1/e.d[0].px:0,0,0,0,1];case"matrix":return[e.d[0],e.d[1],0,0,e.d[2],e.d[3],0,0,0,0,1,0,e.d[4],e.d[5],0,1];case"matrix3d":return e.d}}function a(e){return 0===e.length?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:e.map(o).reduce(r)}var s=function(){function e(e){return e[0][0]*e[1][1]*e[2][2]+e[1][0]*e[2][1]*e[0][2]+e[2][0]*e[0][1]*e[1][2]-e[0][2]*e[1][1]*e[2][0]-e[1][2]*e[2][1]*e[0][0]-e[2][2]*e[0][1]*e[1][0]}function t(e){var t=r(e);return[e[0]/t,e[1]/t,e[2]/t]}function r(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2])}function i(e,t,n,r){return[n*e[0]+r*t[0],n*e[1]+r*t[1],n*e[2]+r*t[2]]}return function(o){var a=[o.slice(0,4),o.slice(4,8),o.slice(8,12),o.slice(12,16)];if(1!==a[3][3])return null;for(var s=[],l=0;l<4;l++)s.push(a[l].slice());for(l=0;l<3;l++)s[l][3]=0;if(0===e(s))return null;var u,c=[];a[0][3]||a[1][3]||a[2][3]?(c.push(a[0][3]),c.push(a[1][3]),c.push(a[2][3]),c.push(a[3][3]),u=function(e,t){for(var n=[],r=0;r<4;r++){for(var i=0,o=0;o<4;o++)i+=e[o]*t[o][r];n.push(i)}return n}(c,function(e){return[[e[0][0],e[1][0],e[2][0],e[3][0]],[e[0][1],e[1][1],e[2][1],e[3][1]],[e[0][2],e[1][2],e[2][2],e[3][2]],[e[0][3],e[1][3],e[2][3],e[3][3]]]}(function(t){for(var n=1/e(t),r=t[0][0],i=t[0][1],o=t[0][2],a=t[1][0],s=t[1][1],l=t[1][2],u=t[2][0],c=t[2][1],d=t[2][2],f=[[(s*d-l*c)*n,(o*c-i*d)*n,(i*l-o*s)*n,0],[(l*u-a*d)*n,(r*d-o*u)*n,(o*a-r*l)*n,0],[(a*c-s*u)*n,(u*i-r*c)*n,(r*s-i*a)*n,0]],h=[],p=0;p<3;p++){for(var v=0,m=0;m<3;m++)v+=t[3][m]*f[m][p];h.push(v)}return h.push(1),f.push(h),f}(s)))):u=[0,0,0,1];var d=a[3].slice(0,3),f=[];f.push(a[0].slice(0,3));var h=[];h.push(r(f[0])),f[0]=t(f[0]);var p=[];f.push(a[1].slice(0,3)),p.push(n(f[0],f[1])),f[1]=i(f[1],f[0],1,-p[0]),h.push(r(f[1])),f[1]=t(f[1]),p[0]/=h[1],f.push(a[2].slice(0,3)),p.push(n(f[0],f[2])),f[2]=i(f[2],f[0],1,-p[1]),p.push(n(f[1],f[2])),f[2]=i(f[2],f[1],1,-p[2]),h.push(r(f[2])),f[2]=t(f[2]),p[1]/=h[2],p[2]/=h[2];var v=function(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}(f[1],f[2]);if(n(f[0],v)<0)for(l=0;l<3;l++)h[l]*=-1,f[l][0]*=-1,f[l][1]*=-1,f[l][2]*=-1;var m,g,y=f[0][0]+f[1][1]+f[2][2]+1;return y>1e-4?(m=.5/Math.sqrt(y),g=[(f[2][1]-f[1][2])*m,(f[0][2]-f[2][0])*m,(f[1][0]-f[0][1])*m,.25/m]):f[0][0]>f[1][1]&&f[0][0]>f[2][2]?g=[.25*(m=2*Math.sqrt(1+f[0][0]-f[1][1]-f[2][2])),(f[0][1]+f[1][0])/m,(f[0][2]+f[2][0])/m,(f[2][1]-f[1][2])/m]:f[1][1]>f[2][2]?(m=2*Math.sqrt(1+f[1][1]-f[0][0]-f[2][2]),g=[(f[0][1]+f[1][0])/m,.25*m,(f[1][2]+f[2][1])/m,(f[0][2]-f[2][0])/m]):(m=2*Math.sqrt(1+f[2][2]-f[0][0]-f[1][1]),g=[(f[0][2]+f[2][0])/m,(f[1][2]+f[2][1])/m,.25*m,(f[1][0]-f[0][1])/m]),[d,h,p,g,u]}}();e.dot=n,e.makeMatrixDecomposition=function(e){return[s(a(e))]},e.transformListToMatrix=a}(t),function(e){function t(e,t){var n=e.exec(t);if(n)return[n=e.ignoreCase?n[0].toLowerCase():n[0],t.substr(n.length)]}function n(e,t){var n=e(t=t.replace(/^\s*/,""));if(n)return[n[0],n[1].replace(/^\s*/,"")]}function r(e,t,n,r,i){for(var o=[],a=[],s=[],l=function(e,t){for(var n=e,r=t;n&&r;)n>r?n%=r:r%=n;return e*t/(n+r)}(r.length,i.length),u=0;u<l;u++){var c=t(r[u%r.length],i[u%i.length]);if(!c)return;o.push(c[0]),a.push(c[1]),s.push(c[2])}return[o,a,function(t){var r=t.map((function(e,t){return s[t](e)})).join(n);return e?e(r):r}]}e.consumeToken=t,e.consumeTrimmed=n,e.consumeRepeated=function(e,r,i){e=n.bind(null,e);for(var o=[];;){var a=e(i);if(!a)return[o,i];if(o.push(a[0]),!(a=t(r,i=a[1]))||""==a[1])return[o,i];i=a[1]}},e.consumeParenthesised=function(e,t){for(var n=0,r=0;r<t.length&&(!/\s|,/.test(t[r])||0!=n);r++)if("("==t[r])n++;else if(")"==t[r]&&(0==--n&&r++,n<=0))break;var i=e(t.substr(0,r));return null==i?void 0:[i,t.substr(r)]},e.ignore=function(e){return function(t){var n=e(t);return n&&(n[0]=void 0),n}},e.optional=function(e,t){return function(n){return e(n)||[t,n]}},e.consumeList=function(t,n){for(var r=[],i=0;i<t.length;i++){var o=e.consumeTrimmed(t[i],n);if(!o||""==o[0])return;void 0!==o[0]&&r.push(o[0]),n=o[1]}if(""==n)return r},e.mergeNestedRepeated=r.bind(null,null),e.mergeWrappedNestedRepeated=r,e.mergeList=function(e,t,n){for(var r=[],i=[],o=[],a=0,s=0;s<n.length;s++)if("function"==typeof n[s]){var l=n[s](e[a],t[a++]);r.push(l[0]),i.push(l[1]),o.push(l[2])}else!function(e){r.push(!1),i.push(!1),o.push((function(){return n[e]}))}(s);return[r,i,function(e){for(var t="",n=0;n<e.length;n++)t+=o[n](e[n]);return t}]}}(t),function(e){function t(t){var n={inset:!1,lengths:[],color:null},r=e.consumeRepeated((function(t){var r=e.consumeToken(/^inset/i,t);return r?(n.inset=!0,r):(r=e.consumeLengthOrPercent(t))?(n.lengths.push(r[0]),r):(r=e.consumeColor(t))?(n.color=r[0],r):void 0}),/^/,t);if(r&&r[0].length)return[n,r[1]]}var n=function(t,n,r,i){function o(e){return{inset:e,color:[0,0,0,0],lengths:[{px:0},{px:0},{px:0},{px:0}]}}for(var a=[],s=[],l=0;l<r.length||l<i.length;l++){var u=r[l]||o(i[l].inset),c=i[l]||o(r[l].inset);a.push(u),s.push(c)}return e.mergeNestedRepeated(t,n,a,s)}.bind(null,(function(t,n){for(;t.lengths.length<Math.max(t.lengths.length,n.lengths.length);)t.lengths.push({px:0});for(;n.lengths.length<Math.max(t.lengths.length,n.lengths.length);)n.lengths.push({px:0});if(t.inset==n.inset&&!!t.color==!!n.color){for(var r,i=[],o=[[],0],a=[[],0],s=0;s<t.lengths.length;s++){var l=e.mergeDimensions(t.lengths[s],n.lengths[s],2==s);o[0].push(l[0]),a[0].push(l[1]),i.push(l[2])}if(t.color&&n.color){var u=e.mergeColors(t.color,n.color);o[1]=u[0],a[1]=u[1],r=u[2]}return[o,a,function(e){for(var n=t.inset?"inset ":" ",o=0;o<i.length;o++)n+=i[o](e[0][o])+" ";return r&&(n+=r(e[1])),n}]}}),", ");e.addPropertiesHandler((function(n){var r=e.consumeRepeated(t,/^,/,n);if(r&&""==r[1])return r[0]}),n,["box-shadow","text-shadow"])}(t),function(e,t){function n(e){return e.toFixed(3).replace(/0+$/,"").replace(/\.$/,"")}function r(e,t,n){return Math.min(t,Math.max(e,n))}function i(e){if(/^\s*[-+]?(\d*\.)?\d+\s*$/.test(e))return Number(e)}function o(e,t){return function(i,o){return[i,o,function(i){return n(r(e,t,i))}]}}function a(e){var t=e.trim().split(/\s*[\s,]\s*/);if(0!==t.length){for(var n=[],r=0;r<t.length;r++){var o=i(t[r]);if(void 0===o)return;n.push(o)}return n}}e.clamp=r,e.addPropertiesHandler(a,(function(e,t){if(e.length==t.length)return[e,t,function(e){return e.map(n).join(" ")}]}),["stroke-dasharray"]),e.addPropertiesHandler(i,o(0,1/0),["border-image-width","line-height"]),e.addPropertiesHandler(i,o(0,1),["opacity","shape-image-threshold"]),e.addPropertiesHandler(i,(function(e,t){if(0!=e)return o(0,1/0)(e,t)}),["flex-grow","flex-shrink"]),e.addPropertiesHandler(i,(function(e,t){return[e,t,function(e){return Math.round(r(1,1/0,e))}]}),["orphans","widows"]),e.addPropertiesHandler(i,(function(e,t){return[e,t,Math.round]}),["z-index"]),e.parseNumber=i,e.parseNumberList=a,e.mergeNumbers=function(e,t){return[e,t,n]},e.numberToString=n}(t),function(e,t){e.addPropertiesHandler(String,(function(e,t){if("visible"==e||"visible"==t)return[0,1,function(n){return n<=0?e:n>=1?t:"visible"}]}),["visibility"])}(t),function(e,t){function n(e){e=e.trim(),o.fillStyle="#000",o.fillStyle=e;var t=o.fillStyle;if(o.fillStyle="#fff",o.fillStyle=e,t==o.fillStyle){o.fillRect(0,0,1,1);var n=o.getImageData(0,0,1,1).data;o.clearRect(0,0,1,1);var r=n[3]/255;return[n[0]*r,n[1]*r,n[2]*r,r]}}function r(t,n){return[t,n,function(t){function n(e){return Math.max(0,Math.min(255,e))}if(t[3])for(var r=0;r<3;r++)t[r]=Math.round(n(t[r]/t[3]));return t[3]=e.numberToString(e.clamp(0,1,t[3])),"rgba("+t.join(",")+")"}]}var i=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");i.width=i.height=1;var o=i.getContext("2d");e.addPropertiesHandler(n,r,["background-color","border-bottom-color","border-left-color","border-right-color","border-top-color","color","fill","flood-color","lighting-color","outline-color","stop-color","stroke","text-decoration-color"]),e.consumeColor=e.consumeParenthesised.bind(null,n),e.mergeColors=r}(t),function(e,t){function n(e){function t(){var t=a.exec(e);o=t?t[0]:void 0}function n(){if("("!==o)return function(){var e=Number(o);return t(),e}();t();var e=i();return")"!==o?NaN:(t(),e)}function r(){for(var e=n();"*"===o||"/"===o;){var r=o;t();var i=n();"*"===r?e*=i:e/=i}return e}function i(){for(var e=r();"+"===o||"-"===o;){var n=o;t();var i=r();"+"===n?e+=i:e-=i}return e}var o,a=/([\+\-\w\.]+|[\(\)\*\/])/g;return t(),i()}function r(e,t){if("0"==(t=t.trim().toLowerCase())&&"px".search(e)>=0)return{px:0};if(/^[^(]*$|^calc/.test(t)){t=t.replace(/calc\(/g,"(");var r={};t=t.replace(e,(function(e){return r[e]=null,"U"+e}));for(var i="U("+e.source+")",o=t.replace(/[-+]?(\d*\.)?\d+([Ee][-+]?\d+)?/g,"N").replace(new RegExp("N"+i,"g"),"D").replace(/\s[+-]\s/g,"O").replace(/\s/g,""),a=[/N\*(D)/g,/(N|D)[*\/]N/g,/(N|D)O\1/g,/\((N|D)\)/g],s=0;s<a.length;)a[s].test(o)?(o=o.replace(a[s],"$1"),s=0):s++;if("D"==o){for(var l in r){var u=n(t.replace(new RegExp("U"+l,"g"),"").replace(new RegExp(i,"g"),"*0"));if(!isFinite(u))return;r[l]=u}return r}}}function i(e,t){return o(e,t,!0)}function o(t,n,r){var i,o=[];for(i in t)o.push(i);for(i in n)o.indexOf(i)<0&&o.push(i);return t=o.map((function(e){return t[e]||0})),n=o.map((function(e){return n[e]||0})),[t,n,function(t){var n=t.map((function(n,i){return 1==t.length&&r&&(n=Math.max(n,0)),e.numberToString(n)+o[i]})).join(" + ");return t.length>1?"calc("+n+")":n}]}var a="px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc",s=r.bind(null,new RegExp(a,"g")),l=r.bind(null,new RegExp(a+"|%","g")),u=r.bind(null,/deg|rad|grad|turn/g);e.parseLength=s,e.parseLengthOrPercent=l,e.consumeLengthOrPercent=e.consumeParenthesised.bind(null,l),e.parseAngle=u,e.mergeDimensions=o;var c=e.consumeParenthesised.bind(null,s),d=e.consumeRepeated.bind(void 0,c,/^/),f=e.consumeRepeated.bind(void 0,d,/^,/);e.consumeSizePairList=f;var h=e.mergeNestedRepeated.bind(void 0,i," "),p=e.mergeNestedRepeated.bind(void 0,h,",");e.mergeNonNegativeSizePair=h,e.addPropertiesHandler((function(e){var t=f(e);if(t&&""==t[1])return t[0]}),p,["background-size"]),e.addPropertiesHandler(l,i,["border-bottom-width","border-image-width","border-left-width","border-right-width","border-top-width","flex-basis","font-size","height","line-height","max-height","max-width","outline-width","width"]),e.addPropertiesHandler(l,o,["border-bottom-left-radius","border-bottom-right-radius","border-top-left-radius","border-top-right-radius","bottom","left","letter-spacing","margin-bottom","margin-left","margin-right","margin-top","min-height","min-width","outline-offset","padding-bottom","padding-left","padding-right","padding-top","perspective","right","shape-margin","stroke-dashoffset","text-indent","top","vertical-align","word-spacing"])}(t),function(e,t){function n(t){return e.consumeLengthOrPercent(t)||e.consumeToken(/^auto/,t)}function r(t){var r=e.consumeList([e.ignore(e.consumeToken.bind(null,/^rect/)),e.ignore(e.consumeToken.bind(null,/^\(/)),e.consumeRepeated.bind(null,n,/^,/),e.ignore(e.consumeToken.bind(null,/^\)/))],t);if(r&&4==r[0].length)return r[0]}var i=e.mergeWrappedNestedRepeated.bind(null,(function(e){return"rect("+e+")"}),(function(t,n){return"auto"==t||"auto"==n?[!0,!1,function(r){var i=r?t:n;if("auto"==i)return"auto";var o=e.mergeDimensions(i,i);return o[2](o[0])}]:e.mergeDimensions(t,n)}),", ");e.parseBox=r,e.mergeBoxes=i,e.addPropertiesHandler(r,i,["clip"])}(t),function(e,t){function n(e){return function(t){var n=0;return e.map((function(e){return e===u?t[n++]:e}))}}function r(e){return e}function i(t){if("none"==(t=t.toLowerCase().trim()))return[];for(var n,r=/\s*(\w+)\(([^)]*)\)/g,i=[],o=0;n=r.exec(t);){if(n.index!=o)return;o=n.index+n[0].length;var a=n[1],s=f[a];if(!s)return;var l=n[2].split(","),u=s[0];if(u.length<l.length)return;for(var h=[],p=0;p<u.length;p++){var v,m=l[p],g=u[p];if(void 0===(v=m?{A:function(t){return"0"==t.trim()?d:e.parseAngle(t)},N:e.parseNumber,T:e.parseLengthOrPercent,L:e.parseLength}[g.toUpperCase()](m):{a:d,n:h[0],t:c}[g]))return;h.push(v)}if(i.push({t:a,d:h}),r.lastIndex==t.length)return i}}function o(e){return e.toFixed(6).replace(".000000","")}function a(t,n){if(t.decompositionPair!==n){t.decompositionPair=n;var r=e.makeMatrixDecomposition(t)}if(n.decompositionPair!==t){n.decompositionPair=t;var i=e.makeMatrixDecomposition(n)}return null==r[0]||null==i[0]?[[!1],[!0],function(e){return e?n[0].d:t[0].d}]:(r[0].push(0),i[0].push(1),[r,i,function(t){var n=e.quat(r[0][3],i[0][3],t[5]);return e.composeMatrix(t[0],t[1],t[2],n,t[4]).map(o).join(",")}])}function s(e){return e.replace(/[xy]/,"")}function l(e){return e.replace(/(x|y|z|3d)?$/,"3d")}var u=null,c={px:0},d={deg:0},f={matrix:["NNNNNN",[u,u,0,0,u,u,0,0,0,0,1,0,u,u,0,1],r],matrix3d:["NNNNNNNNNNNNNNNN",r],rotate:["A"],rotatex:["A"],rotatey:["A"],rotatez:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",n([u,u,1]),r],scalex:["N",n([u,1,1]),n([u,1])],scaley:["N",n([1,u,1]),n([1,u])],scalez:["N",n([1,1,u])],scale3d:["NNN",r],skew:["Aa",null,r],skewx:["A",null,n([u,d])],skewy:["A",null,n([d,u])],translate:["Tt",n([u,u,c]),r],translatex:["T",n([u,c,c]),n([u,c])],translatey:["T",n([c,u,c]),n([c,u])],translatez:["L",n([c,c,u])],translate3d:["TTL",r]};e.addPropertiesHandler(i,(function(t,n){var r=e.makeMatrixDecomposition&&!0,i=!1;if(!t.length||!n.length){t.length||(i=!0,t=n,n=[]);for(var o=0;o<t.length;o++){var u=t[o].t,c=t[o].d,d="scale"==u.substr(0,5)?1:0;n.push({t:u,d:c.map((function(e){if("number"==typeof e)return d;var t={};for(var n in e)t[n]=d;return t}))})}}var h=function(e,t){return"perspective"==e&&"perspective"==t||("matrix"==e||"matrix3d"==e)&&("matrix"==t||"matrix3d"==t)},p=[],v=[],m=[];if(t.length!=n.length){if(!r)return;p=[(x=a(t,n))[0]],v=[x[1]],m=[["matrix",[x[2]]]]}else for(o=0;o<t.length;o++){var g=t[o].t,y=n[o].t,_=t[o].d,b=n[o].d,w=f[g],S=f[y];if(h(g,y)){if(!r)return;var x=a([t[o]],[n[o]]);p.push(x[0]),v.push(x[1]),m.push(["matrix",[x[2]]])}else{if(g==y)u=g;else if(w[2]&&S[2]&&s(g)==s(y))u=s(g),_=w[2](_),b=S[2](b);else{if(!w[1]||!S[1]||l(g)!=l(y)){if(!r)return;p=[(x=a(t,n))[0]],v=[x[1]],m=[["matrix",[x[2]]]];break}u=l(g),_=w[1](_),b=S[1](b)}for(var T=[],k=[],N=[],E=0;E<_.length;E++){x=("number"==typeof _[E]?e.mergeNumbers:e.mergeDimensions)(_[E],b[E]);T[E]=x[0],k[E]=x[1],N.push(x[2])}p.push(T),v.push(k),m.push([u,N])}}if(i){var D=p;p=v,v=D}return[p,v,function(e){return e.map((function(e,t){var n=e.map((function(e,n){return m[t][1][n](e)})).join(",");return"matrix"==m[t][0]&&16==n.split(",").length&&(m[t][0]="matrix3d"),m[t][0]+"("+n+")"})).join(" ")}]}),["transform"]),e.transformToSvgMatrix=function(t){var n=e.transformListToMatrix(i(t));return"matrix("+o(n[0])+" "+o(n[1])+" "+o(n[4])+" "+o(n[5])+" "+o(n[12])+" "+o(n[13])+")"}}(t),function(e){function t(t){return t=100*Math.round(t/100),400===(t=e.clamp(100,900,t))?"normal":700===t?"bold":String(t)}e.addPropertiesHandler((function(e){var t=Number(e);if(!(isNaN(t)||t<100||t>900||t%100!=0))return t}),(function(e,n){return[e,n,t]}),["font-weight"])}(t),function(e){function t(e){var t={};for(var n in e)t[n]=-e[n];return t}function n(t){return e.consumeToken(/^(left|center|right|top|bottom)\b/i,t)||e.consumeLengthOrPercent(t)}function r(t,r){var i=e.consumeRepeated(n,/^/,r);if(i&&""==i[1]){var a=i[0];if(a[0]=a[0]||"center",a[1]=a[1]||"center",3==t&&(a[2]=a[2]||{px:0}),a.length==t){if(/top|bottom/.test(a[0])||/left|right/.test(a[1])){var s=a[0];a[0]=a[1],a[1]=s}if(/left|right|center|Object/.test(a[0])&&/top|bottom|center|Object/.test(a[1]))return a.map((function(e){return"object"==typeof e?e:o[e]}))}}}function i(r){var i=e.consumeRepeated(n,/^/,r);if(i){for(var a=i[0],s=[{"%":50},{"%":50}],l=0,u=!1,c=0;c<a.length;c++){var d=a[c];"string"==typeof d?(u=/bottom|right/.test(d),s[l={left:0,right:0,center:l,top:1,bottom:1}[d]]=o[d],"center"==d&&l++):(u&&((d=t(d))["%"]=(d["%"]||0)+100),s[l]=d,l++,u=!1)}return[s,i[1]]}}var o={left:{"%":0},center:{"%":50},right:{"%":100},top:{"%":0},bottom:{"%":100}},a=e.mergeNestedRepeated.bind(null,e.mergeDimensions," ");e.addPropertiesHandler(r.bind(null,3),a,["transform-origin"]),e.addPropertiesHandler(r.bind(null,2),a,["perspective-origin"]),e.consumePosition=i,e.mergeOffsetList=a;var s=e.mergeNestedRepeated.bind(null,a,", ");e.addPropertiesHandler((function(t){var n=e.consumeRepeated(i,/^,/,t);if(n&&""==n[1])return n[0]}),s,["background-position","object-position"])}(t),function(e){var t=e.consumeParenthesised.bind(null,e.parseLengthOrPercent),n=e.consumeRepeated.bind(void 0,t,/^/),r=e.mergeNestedRepeated.bind(void 0,e.mergeDimensions," "),i=e.mergeNestedRepeated.bind(void 0,r,",");e.addPropertiesHandler((function(r){var i=e.consumeToken(/^circle/,r);if(i&&i[0])return["circle"].concat(e.consumeList([e.ignore(e.consumeToken.bind(void 0,/^\(/)),t,e.ignore(e.consumeToken.bind(void 0,/^at/)),e.consumePosition,e.ignore(e.consumeToken.bind(void 0,/^\)/))],i[1]));var o=e.consumeToken(/^ellipse/,r);if(o&&o[0])return["ellipse"].concat(e.consumeList([e.ignore(e.consumeToken.bind(void 0,/^\(/)),n,e.ignore(e.consumeToken.bind(void 0,/^at/)),e.consumePosition,e.ignore(e.consumeToken.bind(void 0,/^\)/))],o[1]));var a=e.consumeToken(/^polygon/,r);return a&&a[0]?["polygon"].concat(e.consumeList([e.ignore(e.consumeToken.bind(void 0,/^\(/)),e.optional(e.consumeToken.bind(void 0,/^nonzero\s*,|^evenodd\s*,/),"nonzero,"),e.consumeSizePairList,e.ignore(e.consumeToken.bind(void 0,/^\)/))],a[1])):void 0}),(function(t,n){if(t[0]===n[0])return"circle"==t[0]?e.mergeList(t.slice(1),n.slice(1),["circle(",e.mergeDimensions," at ",e.mergeOffsetList,")"]):"ellipse"==t[0]?e.mergeList(t.slice(1),n.slice(1),["ellipse(",e.mergeNonNegativeSizePair," at ",e.mergeOffsetList,")"]):"polygon"==t[0]&&t[1]==n[1]?e.mergeList(t.slice(2),n.slice(2),["polygon(",t[1],i,")"]):void 0}),["shape-outside"])}(t),function(e,t){function n(e,t){t.concat([e]).forEach((function(t){t in document.documentElement.style&&(r[e]=t),i[t]=e}))}var r={},i={};n("transform",["webkitTransform","msTransform"]),n("transformOrigin",["webkitTransformOrigin"]),n("perspective",["webkitPerspective"]),n("perspectiveOrigin",["webkitPerspectiveOrigin"]),e.propertyName=function(e){return r[e]||e},e.unprefixedPropertyName=function(e){return i[e]||e}}(t)}(),function(){if(void 0===document.createElement("div").animate([]).oncancel){if(window.performance&&performance.now)var e=function(){return performance.now()};else e=function(){return Date.now()};var t=function(e,t,n){this.target=e,this.currentTime=t,this.timelineTime=n,this.type="cancel",this.bubbles=!1,this.cancelable=!1,this.currentTarget=e,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()},n=window.Element.prototype.animate;window.Element.prototype.animate=function(r,i){var o=n.call(this,r,i);o._cancelHandlers=[],o.oncancel=null;var a=o.cancel;o.cancel=function(){a.call(this);var n=new t(this,null,e()),r=this._cancelHandlers.concat(this.oncancel?[this.oncancel]:[]);setTimeout((function(){r.forEach((function(e){e.call(n.target,n)}))}),0)};var s=o.addEventListener;o.addEventListener=function(e,t){"function"==typeof t&&"cancel"==e?this._cancelHandlers.push(t):s.call(this,e,t)};var l=o.removeEventListener;return o.removeEventListener=function(e,t){if("cancel"==e){var n=this._cancelHandlers.indexOf(t);n>=0&&this._cancelHandlers.splice(n,1)}else l.call(this,e,t)},o}}}(),function(e){var t=document.documentElement,n=null,r=!1;try{var i="0"==getComputedStyle(t).getPropertyValue("opacity")?"1":"0";(n=t.animate({opacity:[i,i]},{duration:1})).currentTime=0,r=getComputedStyle(t).getPropertyValue("opacity")==i}catch(e){}finally{n&&n.cancel()}if(!r){var o=window.Element.prototype.animate;window.Element.prototype.animate=function(t,n){return window.Symbol&&Symbol.iterator&&Array.prototype.from&&t[Symbol.iterator]&&(t=Array.from(t)),Array.isArray(t)||null===t||(t=e.convertToArrayForm(t)),o.call(this,t,n)}}}(e)}();var or,ar,sr,lr=G([function(e){tr("Creating store"),Object.keys(Kn).forEach((function(t){var n=Kn[t];e.on(t,n(e))})),e.on("@dispatch",(function(e,t){var n=t[0],r=t[1];if(!r||r&&!r.vars){tr(n,r);var i=er(e);return function(e,t){void 0===t&&(t=Ke());var n=[].slice.call(document.querySelectorAll("[data-porterbuddy-text]"));[].slice.call(document.querySelectorAll("[data-porterbuddy-customtext]")).forEach((function(t){var n=t.dataset.porterbuddyCustomtext;if(n)try{var r=it(n,e,!0);t.innerHTML=rt(r)}catch(e){tt(e.message)}else tt("Empty text")})),n.forEach((function(n){var r=n.dataset.porterbuddyText;if(r){var i=t[r]||"";try{var o=it(i,e,!0);n.innerHTML=rt(o)}catch(e){tt(e.message)}}else tt(r+" is not a valid string key")}))}(i,Ye().text),{vars:i}}return null}))}]),ur=ae("pb:index");Ke=function(){return Ye().text},ur("Waiting for widget element...."),ar="#porterbuddy-widget",sr=function(e){ur("Found element"),or&&(ur("Removing element from previous run"),z(null,or)),lr.dispatch("load"),z(x(Z.Provider,{value:lr},x(cn,null),x(ir,null)),e),or=e},Array.isArray(ar)?ar.forEach((function(e){return nr.push({selector:e,fn:sr})})):nr.push({selector:ar,fn:sr}),rr(),Xn||(MutationObserver?(Xn=new MutationObserver(rr)).observe(document.documentElement,{childList:!0,subtree:!0}):Xn=window.setInterval(rr,500))}();
//# sourceMappingURL=porterbuddy-widget.js.map
